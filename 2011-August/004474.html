<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Setting TextSymbolizer attributes from data	fields
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Setting%20TextSymbolizer%20attributes%20from%20data%0A%09fields&In-Reply-To=%3C14DAF5AD-1AD7-4572-9A79-3959C2E3E22F%40dbsgeo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004471.html">
   <LINK REL="Next"  HREF="004479.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Setting TextSymbolizer attributes from data	fields</H1>
    <B>Dane Springmeyer</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Setting%20TextSymbolizer%20attributes%20from%20data%0A%09fields&In-Reply-To=%3C14DAF5AD-1AD7-4572-9A79-3959C2E3E22F%40dbsgeo.com%3E"
       TITLE="[Mapnik-users] Setting TextSymbolizer attributes from data	fields">dane at dbsgeo.com
       </A><BR>
    <I>Thu Aug  4 01:20:51 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004471.html">[Mapnik-users] Pass Parameters from Python to the Stylesheet
</A></li>
        <LI>Next message: <A HREF="004479.html">[Mapnik-users] Setting TextSymbolizer attributes from data	fields
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4474">[ date ]</a>
              <a href="thread.html#4474">[ thread ]</a>
              <a href="subject.html#4474">[ subject ]</a>
              <a href="author.html#4474">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alastair,

I see we missed responding to this question earlier and you have another one you just sent (which is just fine). Anyway, I'll respond to both, in order...

See below inline...

On Jul 16, 2011, at 10:38 AM, Alastair Aitchison wrote:

&gt;<i> Hi,
</I>&gt;<i>  
</I>&gt;<i> I have a shapefile containing details of all text labels to appear on the map. Each text element in the shapefile contains attributes including FONTHEIGHT, FONTCOLOUR, and FONTTYPE, which I&#8217;d like to map to the &#8220;size&#8221;, &#8220;fill&#8221;, and &#8220;face_name&#8221; properties of the TextSymbolizer applied to this layer, but I seem to be unable to do so.
</I>
Right, Mapnik does not currently support reading from features to control symbolizers with the exception of Text labels and for constructing paths to image symbols.

&gt;<i> In other words, I&#8217;d like to use syntax such as this in my styles.xml file:
</I>&gt;<i>  
</I>&gt;<i> &lt;Style name=&quot;text&quot;&gt;
</I>&gt;<i>     &lt;Rule&gt;
</I>&gt;<i>       &lt;TextSymbolizer
</I>&gt;<i>           name=&quot;NAME&quot;
</I>&gt;<i>           face_name=&quot;FONTTYPE&quot;
</I>&gt;<i>           size=&quot;FONTHEIGHT&quot;
</I>&gt;<i>           fill=&quot;FONTCOLOUR&quot;
</I>&gt;<i>           /&gt;
</I>&gt;<i>     &lt;/Rule&gt;
</I>&gt;<i> &lt;/Style&gt;
</I>&gt;<i>  
</I>&gt;<i> However, it seems that the only property from the TextSymbolizer that can be (and indeed *has* to be) mapped to a field from the data layer is the &#8220;name&#8221; field.
</I>
Yes.

&gt;<i> How do I set values for the other properties based on attributes in the data? (The only way I&#8217;ve been successful so far is to create a ton of &lt;Rule&gt;s to filter for each combination of type/size/colour, but there&#8217;s got to be a better way!)
</I>
Not yet, but you are welcome to file a ticket for this at trac.mapnik.org. In the meantime it sounds like scripting the &lt;Rules&gt; based on querying your data might be easiest.

&gt;<i>  
</I>&gt;<i> Thanks for any advice!
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mapnik-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004471.html">[Mapnik-users] Pass Parameters from Python to the Stylesheet
</A></li>
	<LI>Next message: <A HREF="004479.html">[Mapnik-users] Setting TextSymbolizer attributes from data	fields
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4474">[ date ]</a>
              <a href="thread.html#4474">[ thread ]</a>
              <a href="subject.html#4474">[ subject ]</a>
              <a href="author.html#4474">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
