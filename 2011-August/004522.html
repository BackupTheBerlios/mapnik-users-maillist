<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] OGR datasource syntax
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20OGR%20datasource%20syntax&In-Reply-To=%3C3A344926-AB48-4688-8BC2-B1DE17BFD8CD%40dbsgeo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004521.html">
   <LINK REL="Next"  HREF="004523.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] OGR datasource syntax</H1>
    <B>Dane Springmeyer</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20OGR%20datasource%20syntax&In-Reply-To=%3C3A344926-AB48-4688-8BC2-B1DE17BFD8CD%40dbsgeo.com%3E"
       TITLE="[Mapnik-users] OGR datasource syntax">dane at dbsgeo.com
       </A><BR>
    <I>Wed Aug 24 00:29:18 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004521.html">[Mapnik-users] OGR datasource syntax
</A></li>
        <LI>Next message: <A HREF="004523.html">[Mapnik-users] Update on Mapnik GSOC projects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4522">[ date ]</a>
              <a href="thread.html#4522">[ thread ]</a>
              <a href="subject.html#4522">[ subject ]</a>
              <a href="author.html#4522">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mark,

The &quot;string&quot; option was added in trunk (so is only available in the upcoming mapnik 2.x release). But It is only needed to avoid the relative paths logic of XML loading from trying to &quot;relativize&quot; an actual geojson string.

So in Mapnik 0.7.1, when using python, you can just pass the geojson string data to the 'file' parameter. Under the hood this does the same thing as trunk's 'string' parameter, which is to dish off to ogr, which looks for a string starting with '{', and interprets that a geojson.

Dane

On Aug 23, 2011, at 3:12 PM, Mark Ireland wrote:

&gt;<i> Hi folks,
</I>&gt;<i> I&#8217;m trying to use the Mapnik ogr datasource, by passing a string of data to it.
</I>&gt;<i> The documentation I found says:
</I>&gt;<i>  
</I>&gt;<i> string: optional (replaces file parameter) string of literal OGR-datasource data, like GeoJSON
</I>&gt;<i>  
</I>&gt;<i> But if I use the line:
</I>&gt;<i> mapnik.Ogr(string='{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[3130729.488686,10091615.590192]}')
</I>&gt;<i>  
</I>&gt;<i> &#8230;then it returns &#8220;missing &lt;file&gt; parameter&#8221;.
</I>&gt;<i>  
</I>&gt;<i> So, can anyone help me with the syntax to pass a GeoJSON string instead of a file name?
</I>&gt;<i>  
</I>&gt;<i> Thanks
</I>&gt;<i>  
</I>&gt;<i> Mark Ireland
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mapnik-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004521.html">[Mapnik-users] OGR datasource syntax
</A></li>
	<LI>Next message: <A HREF="004523.html">[Mapnik-users] Update on Mapnik GSOC projects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4522">[ date ]</a>
              <a href="thread.html#4522">[ thread ]</a>
              <a href="subject.html#4522">[ subject ]</a>
              <a href="author.html#4522">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
