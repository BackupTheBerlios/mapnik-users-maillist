<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Baseline and word visualization issue for	Right-To-Left script in Mapnik
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Baseline%20and%20word%20visualization%20issue%20for%0A%09Right-To-Left%20script%20in%20Mapnik&In-Reply-To=%3C18916b460902161748m70ecf3e3r2e5462acc98f7f50%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001634.html">
   <LINK REL="Next"  HREF="001642.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Baseline and word visualization issue for	Right-To-Left script in Mapnik</H1>
    <B>Alireza Kashian</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Baseline%20and%20word%20visualization%20issue%20for%0A%09Right-To-Left%20script%20in%20Mapnik&In-Reply-To=%3C18916b460902161748m70ecf3e3r2e5462acc98f7f50%40mail.gmail.com%3E"
       TITLE="[Mapnik-users] Baseline and word visualization issue for	Right-To-Left script in Mapnik">alireza.kashian at gmail.com
       </A><BR>
    <I>Tue Feb 17 02:48:44 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001634.html">[Mapnik-users] Problems building Mapnik (build with python2.6 and scons.py)
</A></li>
        <LI>Next message: <A HREF="001642.html">[Mapnik-users] Baseline and word visualization issue for	Right-To-Left script in Mapnik
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1641">[ date ]</a>
              <a href="thread.html#1641">[ thread ]</a>
              <a href="subject.html#1641">[ subject ]</a>
              <a href="author.html#1641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

We are almost 3 weeks, working actively on Mapnik and we have got our own
XML Style file with PostGRE DB.
We are on Windows (so we use windows binaries) and trying to make maps for a
city in 9 Zoom Levels.

After all our experience with Mapnik, we found 2-3 main issues which even
after a long reading on Google and forums (like Mapnik/ TileCache ) there
are still unresolved for us.

Talking to mapnik developer (thanks to Artem) we are hopeful that some of
the issues will be resolved after release of 0.6.0.

Two main issues around TextSymbolizer are here:

1- We are on Farsi Language (90% similar to Arabic Script - So it is
Right-to-Left Script and characters are connected to each other. in English
each character is standalone. But in Arabic and Farsi, each character
depending on its location in the word, will be connected to previous or next
character.) . Our road names are saved as UTF-8 in PostGRE.

One problem is that Mapnik doesn't generate right-to-left texts properly. I
have seen Artem post regarding Morrocco map on OpenStreetMap which is using
Mapnik. It has been mentioned that using ICU will resolve the BIDI problem .
But how can we bind ICU to mapnik or how can we setup mapnik to use ICU
capabilities. Does it need to change codes and compile the windows binary
again ? or it is just a config file to tell mapnik use this and that instead
of this and that? How could this problem be solved? in our attached
Screenshot, you can see that the name of Highway is not correct. characters
are not connected to each other and they are ordered from left to right
instead of right to left !

2- The second issue is the baseline for texts on roads.
As you see in our attached photo, the text baseline is not exactly located
on the center of the road... I remember that in some products like ArcMap
and Mapublisher, the user can give an offset to Text base line. Baseline for
Farsi/Arabic is different from English and could be also different for some
other languages. So there must be a way to let users to shift the text UP
and Down manually in TextSymbolizer feature. I am not sure if this
capability is there or we need to resolve it in some other way..But I see
that even Morrocco map does not have this problem in OpenStreetMap.. How
come? are they using enhanced version of Mapnik or there is trick around
these stuff?

Thanks
Alireza Kashian
Lilihood Beta: <A HREF="http://lilihood.com/people/in/singapore&lt;%20http://lilihood.com/people/in/singapore">http://lilihood.com/people/in/singapore&lt;%20http://lilihood.com/people/in/singapore</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20090217/589661f7/attachment.html">https://lists.berlios.de/pipermail/mapnik-users/attachments/20090217/589661f7/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Baseline-issue-TextSymbolizer-Mapnik-Right-to-Left-Text.png
Type: image/png
Size: 27453 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20090217/589661f7/attachment.png">https://lists.berlios.de/pipermail/mapnik-users/attachments/20090217/589661f7/attachment.png</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001634.html">[Mapnik-users] Problems building Mapnik (build with python2.6 and scons.py)
</A></li>
	<LI>Next message: <A HREF="001642.html">[Mapnik-users] Baseline and word visualization issue for	Right-To-Left script in Mapnik
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1641">[ date ]</a>
              <a href="thread.html#1641">[ thread ]</a>
              <a href="subject.html#1641">[ subject ]</a>
              <a href="author.html#1641">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
