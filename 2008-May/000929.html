<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Mapnik projection for USGS DOQQ tiles
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Mapnik%20projection%20for%20USGS%20DOQQ%20tiles&In-Reply-To=%3C2bff72670805201440y6a4250c4t461ba4058c32c216%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000936.html">
   <LINK REL="Next"  HREF="000930.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Mapnik projection for USGS DOQQ tiles</H1>
    <B>Jeffrey Sharkey</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Mapnik%20projection%20for%20USGS%20DOQQ%20tiles&In-Reply-To=%3C2bff72670805201440y6a4250c4t461ba4058c32c216%40mail.gmail.com%3E"
       TITLE="[Mapnik-users] Mapnik projection for USGS DOQQ tiles">jsharkey at jsharkey.org
       </A><BR>
    <I>Tue May 20 23:40:03 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000936.html">[Mapnik-users] dynamic dbf files (Earney, Billy C.)
</A></li>
        <LI>Next message: <A HREF="000930.html">[Mapnik-users] Mapnik projection for USGS DOQQ tiles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#929">[ date ]</a>
              <a href="thread.html#929">[ thread ]</a>
              <a href="subject.html#929">[ subject ]</a>
              <a href="author.html#929">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to use Mapnik to render tiles to overlay along with USGS
DOQQ satellite tiles, but I think I'm running into some projection
issues.

I'm stitching together the DOQQ satellite tiles gathered using the
USGS Seamless service, which have a 3.33% overlap.  The DOQQ metadata
claims to be using NAD83 and GRS80 in UTM Zone 12.  After stitching,
the satellite tiles look perfect.

When I use Mapnik+OSM data to render tiles, they don't seem to line up
with any consistency when overlaid with the DOQQ images.  Here is an
example of what I've come up with so far, where red outlines are
overlapping USGS tile boundaries, and green outlines are the Mapnik
tiles I generated.  Also included is the Python code I'm using to
stitch everything together:

<A HREF="http://wtisgpub.coe.montana.edu/raw.jpg">http://wtisgpub.coe.montana.edu/raw.jpg</A>
<A HREF="http://wtisgpub.coe.montana.edu/raw.pycode">http://wtisgpub.coe.montana.edu/raw.pycode</A>

Some things match closely, like the city streets around Thermopolis in
the center of the image, but others don't.  For example, highway 120
to the north-west appears high compared to the satellite data, but
US-20 appears low in the south-east.

I'm a CS person, and not very experienced in projection systems.  Two
of us have been staring at this problem for a few days now without any
luck--maybe our problem is obvious to someone more experienced?
Thanks in advance.  :)

-- 
Jeffrey Sharkey
<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">jsharkey at jsharkey.org</A>
<A HREF="http://www.jsharkey.org/">http://www.jsharkey.org/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000936.html">[Mapnik-users] dynamic dbf files (Earney, Billy C.)
</A></li>
	<LI>Next message: <A HREF="000930.html">[Mapnik-users] Mapnik projection for USGS DOQQ tiles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#929">[ date ]</a>
              <a href="thread.html#929">[ thread ]</a>
              <a href="subject.html#929">[ subject ]</a>
              <a href="author.html#929">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
