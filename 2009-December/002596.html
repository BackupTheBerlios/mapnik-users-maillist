<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Circular roads/roundabouts not rendered
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Circular%20roads/roundabouts%20not%20rendered&In-Reply-To=%3C4B1BF37C.8060000%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002614.html">
   <LINK REL="Next"  HREF="002607.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Circular roads/roundabouts not rendered</H1>
    <B>Nop</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Circular%20roads/roundabouts%20not%20rendered&In-Reply-To=%3C4B1BF37C.8060000%40gmx.de%3E"
       TITLE="[Mapnik-users] Circular roads/roundabouts not rendered">ekkehart at gmx.de
       </A><BR>
    <I>Sun Dec  6 19:10:04 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002614.html">[Mapnik-users] Control over Street Name Rendering
</A></li>
        <LI>Next message: <A HREF="002607.html">[Mapnik-users] Circular roads/roundabouts not rendered
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2596">[ date ]</a>
              <a href="thread.html#2596">[ thread ]</a>
              <a href="subject.html#2596">[ subject ]</a>
              <a href="author.html#2596">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi!

Jon Burgess schrieb:
&gt;<i> Everything should work fine if you:
</I>&gt;<i> - leave highway set as linear
</I>&gt;<i> - add the area=yes tag to your pedestrian areas.
</I>&gt;<i> 
</I>&gt;<i> The area=yes tag will trigger osm2pgsql to emit this closed way as a
</I>&gt;<i> polygon.
</I>
I have remapped the pedestrian areas to no longer use the highway tag, 
so they are out of the equation.

The import style is now

node,way   highway      text         linear


But still, some roundabouts are imported as lines and rendered correctly 
and some are imported into the *osm_polygon table. The only difference 
seems to be the name-Tag. Circular highways without a name seem to be 
treated as lines while circular highways with a name are imported as 
polygons.

E.g.

&lt;way id=&quot;14986398&quot;&gt;
   &lt;nd ref=&quot;148008213&quot;&gt;&lt;/nd&gt;
   &lt;nd ref=&quot;508823771&quot;&gt;&lt;/nd&gt;
...
   &lt;nd ref=&quot;508823784&quot;&gt;&lt;/nd&gt;
   &lt;nd ref=&quot;148008213&quot;&gt;&lt;/nd&gt;
     &lt;tag k=&quot;ref&quot; v=&quot;SP 118&quot;&gt;&lt;/tag&gt;
     &lt;tag k=&quot;highway&quot; v=&quot;primary&quot;&gt;&lt;/tag&gt;
     &lt;tag k=&quot;name&quot; v=&quot;Strada Provinciale 118&quot;&gt;&lt;/tag&gt;
     &lt;tag k=&quot;render_layer&quot; v=&quot;4&quot;&gt;&lt;/tag&gt;&lt;/way&gt;

=&gt; imported as a polygon, not rendered


&lt;way id=&quot;14986396&quot;&gt;
   &lt;nd ref=&quot;299652852&quot;&gt;&lt;/nd&gt;
   &lt;nd ref=&quot;304028403&quot;&gt;&lt;/nd&gt;
...
   &lt;nd ref=&quot;304028414&quot;&gt;&lt;/nd&gt;
   &lt;nd ref=&quot;299652852&quot;&gt;&lt;/nd&gt;
     &lt;tag k=&quot;ref&quot; v=&quot;SS 45 bis&quot;&gt;&lt;/tag&gt;
     &lt;tag k=&quot;highway&quot; v=&quot;primary&quot;&gt;&lt;/tag&gt;
     &lt;tag k=&quot;render_layer&quot; v=&quot;4&quot;&gt;&lt;/tag&gt;&lt;/way&gt;

=&gt; imported as a line, rendered properly


Can you please explain what rules osm2pgsql is applying here?
Which tags are needed to force all imports as lines?

thanks
	Nop

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002614.html">[Mapnik-users] Control over Street Name Rendering
</A></li>
	<LI>Next message: <A HREF="002607.html">[Mapnik-users] Circular roads/roundabouts not rendered
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2596">[ date ]</a>
              <a href="thread.html#2596">[ thread ]</a>
              <a href="subject.html#2596">[ subject ]</a>
              <a href="author.html#2596">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
