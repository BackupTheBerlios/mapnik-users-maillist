<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] problems with postgis
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20problems%20with%20postgis&In-Reply-To=%3Cb3b5e5690802290417r39d0a234sc62b15293b0fcabd%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000694.html">
   <LINK REL="Next"  HREF="000686.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] problems with postgis</H1>
    <B>Xin</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20problems%20with%20postgis&In-Reply-To=%3Cb3b5e5690802290417r39d0a234sc62b15293b0fcabd%40mail.gmail.com%3E"
       TITLE="[Mapnik-users] problems with postgis">xin at zenpow.com
       </A><BR>
    <I>Fri Feb 29 13:17:28 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000694.html">[Mapnik-users] installation went fine, boost not working?
</A></li>
        <LI>Next message: <A HREF="000686.html">[Mapnik-users] problems with postgis
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#685">[ date ]</a>
              <a href="thread.html#685">[ thread ]</a>
              <a href="subject.html#685">[ subject ]</a>
              <a href="author.html#685">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Guys,

After finally getting he postgis plugin compiled, I'm now stuck at
displaying the data.

I am using the osm.xml file as a reference.

In osm.xml:
&lt;Layer name=&quot;tunnels&quot; status=&quot;on&quot; srs=&quot;+proj=merc +a=6378137 +b=6378137
+lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null
+no_defs +over&quot;&gt;
  &lt;Datasource&gt;
      ... DB login credentials ...
      &lt;Parameter name=&quot;estimate_extent&quot;&gt;false&lt;/Parameter&gt;
      &lt;Parameter name=&quot;table&quot;&gt;(select * from planet_osm_line where waterway
IS NOT NULL or landuse='reservoir' or landuse='water' or  &quot;natural&quot;='lake'
or &quot;natural&quot;='water' order by z_order) as water&lt;/Parameter&gt;
      &lt;Parameter
name=&quot;extent&quot;&gt;-20037508,-19929239,20037508,19929239&lt;/Parameter&gt;
    &lt;/Datasource&gt;
&lt;/Layer&gt;

In my xml:
&lt;Layer name=&quot;Roads&quot; status=&quot;on&quot; srs=&quot;+proj=longlat&quot;&gt;
    &lt;StyleName&gt;roads&lt;/StyleName&gt;
  &lt;Datasource&gt;
      ... db login credentials ..
      &lt;Parameter name=&quot;table&quot;&gt;
         (SELECT name, type,geometry FROM features WHERE features.type =
&quot;road&quot;) as roads
      &lt;/Parameter&gt;
      &lt;Parameter name=&quot;estimate_extent&quot;&gt;true&lt;/Parameter&gt;
    &lt;/Datasource&gt;
&lt;/Layer&gt;

There are two things I'm not totally clear on.

1) What field does Mapnik use for geometry?

My geometry field is Postgis' standard geometry type. It may be point, line
or polygon depending on feature type.

2)  I've set the SRID to 4326 (WGS84) in the DB. How do I know what SRS to
use?

When I view it in Mapnik Viewer, it doesn't show the layer and there are no
error messages.

Thanks for helping.

Xin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20080229/635d4a54/attachment.html">https://lists.berlios.de/pipermail/mapnik-users/attachments/20080229/635d4a54/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000694.html">[Mapnik-users] installation went fine, boost not working?
</A></li>
	<LI>Next message: <A HREF="000686.html">[Mapnik-users] problems with postgis
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#685">[ date ]</a>
              <a href="thread.html#685">[ thread ]</a>
              <a href="subject.html#685">[ subject ]</a>
              <a href="author.html#685">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
