<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] nik2img 5.7
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2010-May/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20nik2img%205.7&In-Reply-To=%3C8BEBE2FE-610A-43D9-B763-1C59FCE92941%40dbsgeo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003271.html">
   <LINK REL="Next"  HREF="003276.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] nik2img 5.7</H1>
    <B>Dane Springmeyer</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20nik2img%205.7&In-Reply-To=%3C8BEBE2FE-610A-43D9-B763-1C59FCE92941%40dbsgeo.com%3E"
       TITLE="[Mapnik-users] nik2img 5.7">dane at dbsgeo.com
       </A><BR>
    <I>Mon May 24 22:32:39 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003271.html">[Mapnik-users] nik2img 5.7
</A></li>
        <LI>Next message: <A HREF="003276.html">[Mapnik-users] nik2img 5.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3272">[ date ]</a>
              <a href="thread.html#3272">[ thread ]</a>
              <a href="subject.html#3272">[ subject ]</a>
              <a href="author.html#3272">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Frederik,

Thanks very much for the suggestion. It was tricky getting the xml from stdin approach working originally, so I'd like to revisit it to get it working better. Your idea of passing '-' sounds good, as I've seen that used recently in useful command line tool to turn html into pdf [1]

I'll post back when I've made progress.

Dane

[1] <A HREF="http://code.google.com/p/wkhtmltopdf/">http://code.google.com/p/wkhtmltopdf/</A>

On May 24, 2010, at 12:39 PM, Frederik Ramm wrote:

&gt;<i> Dane,
</I>&gt;<i> 
</I>&gt;<i> Dane Springmeyer wrote:
</I>&gt;&gt;<i> Latest nik2img adds geotiff output (georeferenced tiff) to the list of one-liner output formats.
</I>&gt;<i> 
</I>&gt;<i> While you're at it, I have a little request. nik2img fooled me a number of times with this. When I do a normal request:
</I>&gt;<i> 
</I>&gt;<i> nik2img map.xml parameter parameter parameter...
</I>&gt;<i> 
</I>&gt;<i> it works fine. Then I put this in a shell wrapper like this:
</I>&gt;<i> 
</I>&gt;<i> cat list-of-mapfiles | while read mapfile
</I>&gt;<i> do
</I>&gt;<i>   nik2img $mapfile parameter parameter parameter ...
</I>&gt;<i> done
</I>&gt;<i> 
</I>&gt;<i> and suddenly: Nothing but complaints about not being able to parse the map file!
</I>&gt;<i> 
</I>&gt;<i> Turns out that somehow nik2img tries to magically detect if a map file can be read from stdin; in the second invocation, it actually inherits the pipe on stdin from the shell loop and tries to read its map file from stdin.
</I>&gt;<i> 
</I>&gt;<i> It would be good if that could be fixed somehow. Maybe by just dropping support for reading mapfiles from stdin, or if you want that you should explicitly specify &quot;-&quot; on the command line.
</I>&gt;<i> 
</I>&gt;<i> Bye
</I>&gt;<i> Frederik
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Frederik Ramm  ##  eMail <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">frederik at remote.org</A>  ##  N49&#176;00'09&quot; E008&#176;23'33&quot;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mapnik-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003271.html">[Mapnik-users] nik2img 5.7
</A></li>
	<LI>Next message: <A HREF="003276.html">[Mapnik-users] nik2img 5.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3272">[ date ]</a>
              <a href="thread.html#3272">[ thread ]</a>
              <a href="subject.html#3272">[ subject ]</a>
              <a href="author.html#3272">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
