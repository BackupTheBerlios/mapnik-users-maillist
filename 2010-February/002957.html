<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Problems using OGCServer (no/invalid maps	generated)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Problems%20using%20OGCServer%20%28no/invalid%20maps%0A%09generated%29&In-Reply-To=%3CCC197224AC75CE4DB23F739B16891B86E34672%40tikka.haapa.mmm.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002956.html">
   <LINK REL="Next"  HREF="002958.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Problems using OGCServer (no/invalid maps	generated)</H1>
    <B>Rahkonen Jukka</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Problems%20using%20OGCServer%20%28no/invalid%20maps%0A%09generated%29&In-Reply-To=%3CCC197224AC75CE4DB23F739B16891B86E34672%40tikka.haapa.mmm.fi%3E"
       TITLE="[Mapnik-users] Problems using OGCServer (no/invalid maps	generated)">Jukka.Rahkonen at mmmtike.fi
       </A><BR>
    <I>Sat Feb  6 21:05:01 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002956.html">[Mapnik-users] Problems using OGCServer (no/invalid maps generated)
</A></li>
        <LI>Next message: <A HREF="002958.html">[Mapnik-users] Problems using OGCServer (no/invalid maps	generated)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2957">[ date ]</a>
              <a href="thread.html#2957">[ thread ]</a>
              <a href="subject.html#2957">[ subject ]</a>
              <a href="author.html#2957">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
 
1) Give the BBOX in EPSG:900913 system.
 
-Jukka Rahkonen
 
Hrvoje Prgesa wrote:


&gt;<i> I've tried to use the mapnik ogcserver and have encountered a number
</I>of problems - the problems seem to me like they are to serious not to
have benn noticed by now so I could be doing somethind wrong, but I
just don't know what...

1) Can't get the data to draw using EPSG:900913
I added the projection to ogcserver and my /usr/share/proj/epsg as
specified in the installation instructions in the documentation.

The request:
?SERVICE=WMS&amp;VERSION=1.3.0&amp;REQUEST=GetMap&amp;LAYERS=countries&amp;STYLES=population&amp;BBOX=0,-90,66.513194,0&amp;WIDTH=256&amp;HEIGHT=256&amp;&amp;CRS=EPSG:900913&amp;FORMAT=image%2fpng

returns an empty 256x256 image.
(Using the xml file and data from mapnik tutorial 2 with mapnik 0.7)

I also tried to make requests using the osm.xml but the same empty
image was returned.

Any help would be greatly appreciated!

2) &quot;Wrong&quot; area is drawn on the map
Consider the request:
?SERVICE=WMS&amp;VERSION=1.3.0&amp;REQUEST=GetMap&amp;LAYERS=countries&amp;STYLES=population&amp;BBOX=0,-90,66.513194,0&amp;WIDTH=256&amp;HEIGHT=256&amp;&amp;CRS=EPSG:4326&amp;FORMAT=image%2fpng

(also using the xml file and data from mapnik tutorial 2 - this
request is identical to the above one except for the CRS)

It is my interpretation of the WMS standard (1.3.0, 7.3.3.8) that the
server will generate the map with the requested bounding box and then
strech the area fo fill the requested width/height.
I was not able to determine how exactly OGCServer calculates the drawn
area but it definately varies if you change the width/height.
(note: this doesn't bother me that much as nobody want's his map
distorted anyway)

3) Nonsensical EX_GeographicBoundingBox is returned for the
population.xml from tutorial 2 within GetCapabilites request:
&lt;EX_GeographicBoundingBox&gt;
&lt;westBoundLongitude&gt;-180.0&lt;/westBoundLongitude&gt;
&lt;eastBoundLongitude&gt;-179.999998093&lt;/eastBoundLongitude&gt;
&lt;southBoundLatitude&gt;-90.0&lt;/southBoundLatitude&gt;
&lt;northBoundLatitude&gt;83.570268631&lt;/northBoundLatitude&gt;
&lt;/EX_GeographicBoundingBox&gt;

East should be ~+180 imo.

This is probably the reason why qgis is drawing this map 1 pixel wide...

Hrvoje
_______________________________________________
Mapnik-users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002956.html">[Mapnik-users] Problems using OGCServer (no/invalid maps generated)
</A></li>
	<LI>Next message: <A HREF="002958.html">[Mapnik-users] Problems using OGCServer (no/invalid maps	generated)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2957">[ date ]</a>
              <a href="thread.html#2957">[ thread ]</a>
              <a href="subject.html#2957">[ subject ]</a>
              <a href="author.html#2957">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
