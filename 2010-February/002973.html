<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] long text wrap.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20long%20text%20wrap.&In-Reply-To=%3C27625399.post%40talk.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002972.html">
   <LINK REL="Next"  HREF="002993.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] long text wrap.</H1>
    <B>Nicolas Gillet</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20long%20text%20wrap.&In-Reply-To=%3C27625399.post%40talk.nabble.com%3E"
       TITLE="[Mapnik-users] long text wrap.">nicolas.gillet at market-ip.com
       </A><BR>
    <I>Wed Feb 17 16:25:10 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002972.html">[Mapnik-users]  Question about shape index
</A></li>
        <LI>Next message: <A HREF="002993.html">[Mapnik-users] long text wrap.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2973">[ date ]</a>
              <a href="thread.html#2973">[ thread ]</a>
              <a href="subject.html#2973">[ subject ]</a>
              <a href="author.html#2973">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello,

I up this thread as I have some news about text_ratio.
I cannot explain exactly how it works but for the first time I saw some
different behavior when changing it's value.
Here what I found :
When labeling points I set a wrap_width = 12 to force multi-line.
Then when I set a small text_ratio, the text was normally split but when I
increase it's value, the text wasn't wrapped anymore, it was written in one
line.

Knowing that and the comment I found in the source code (&quot;text ratio for
bounding box in pixel&quot;) it becomes a bit clearer but it is not enough to
make out the actual way it works and edit the wiki yet.

If someone has some more info to share ...

Cheers

Nicolas.

Nicolas Gillet wrote:
&gt;<i> 
</I>&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I would like to have some hints about how to use xml &quot;text_ratio&quot; and
</I>&gt;<i> &quot;wrap_width&quot; attribute.
</I>&gt;<i> 
</I>&gt;<i> I can't find any info. :'(
</I>&gt;<i> e.g. I have a shape file with long city names (~25 characters) and words
</I>&gt;<i> are separated by &quot;-&quot; in some cases.
</I>&gt;<i> the &quot;wrap_character&quot; does not seems to exist (anymore ?) in text
</I>&gt;<i> symbolizer.
</I>&gt;<i> 
</I>&gt;<i> Can someone telle me more about this &quot;wrap&quot; and &quot;ratio&quot;.
</I>&gt;<i> What I found is :
</I>&gt;<i> wrap_width : 
</I>&gt;<i> * Length before wrapping long names (found in wiki)
</I>&gt;<i> * width to wrap text at, or trigger ratio (found in text_symbolizer.hpp)
</I>&gt;<i> 
</I>&gt;<i> -&gt;&quot;lenght/width&quot; ?! what width ? in pixel ? number of characters ? another
</I>&gt;<i> unit ?
</I>&gt;<i> -&gt; &quot;or trigger ratio&quot; so there is a link between ratio and wrap_width ...
</I>&gt;<i> I suppose
</I>&gt;<i> -&gt; think that when a text is bigger than this &quot;length&quot; something is done
</I>&gt;<i> but what ?
</I>&gt;<i> 
</I>&gt;<i> ratio :  
</I>&gt;<i> * ? (found in wiki)
</I>&gt;<i> * target ratio for text bounding box in pixels (found in
</I>&gt;<i> text_symbolizer.hpp)
</I>&gt;<i> 
</I>&gt;<i> Not enough for my understanding of the basic way to use them.
</I>&gt;<i> Whatever values I tried, I didn't see any change ... :'(
</I>&gt;<i> 
</I>&gt;<i> What I would like to do, and I think it is possible, is to set very long
</I>&gt;<i> names on several lines
</I>&gt;<i> eg: my-very-long-name would be :
</I>&gt;<i>  my-very-
</I>&gt;<i> long-name
</I>&gt;<i> And I would like to know if it is possible to have such effect for a given
</I>&gt;<i> polygon to make it so that the text will stay inside the polygon (e.g. the
</I>&gt;<i> name of a park would stay inside park's geometry)
</I>&gt;<i> 
</I>&gt;<i> Thank for any answer.
</I>&gt;<i> 
</I>&gt;<i> Regards
</I>&gt;<i> 
</I>&gt;<i> Nicolas
</I>&gt;<i> Gillet
</I>&gt;<i> 
</I>
-- 
View this message in context: <A HREF="http://old.nabble.com/long-text-wrap.-tp25471485p27625399.html">http://old.nabble.com/long-text-wrap.-tp25471485p27625399.html</A>
Sent from the Mapnik - Users mailing list archive at Nabble.com.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002972.html">[Mapnik-users]  Question about shape index
</A></li>
	<LI>Next message: <A HREF="002993.html">[Mapnik-users] long text wrap.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2973">[ date ]</a>
              <a href="thread.html#2973">[ thread ]</a>
              <a href="subject.html#2973">[ subject ]</a>
              <a href="author.html#2973">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
