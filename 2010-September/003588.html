<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] some questions about recent mapnik developments
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20some%20questions%20about%20recent%20mapnik%20developments&In-Reply-To=%3C5C87CC13-EE40-4180-9557-9D5E7CA63E15%40hailmail.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003558.html">
   <LINK REL="Next"  HREF="003559.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] some questions about recent mapnik developments</H1>
    <B>Dane Springmeyer</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20some%20questions%20about%20recent%20mapnik%20developments&In-Reply-To=%3C5C87CC13-EE40-4180-9557-9D5E7CA63E15%40hailmail.net%3E"
       TITLE="[Mapnik-users] some questions about recent mapnik developments">blake at hailmail.net
       </A><BR>
    <I>Mon Sep 20 11:57:31 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003558.html">[Mapnik-users] some questions about recent mapnik developments
</A></li>
        <LI>Next message: <A HREF="003559.html">[Mapnik-users] correct scaling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3588">[ date ]</a>
              <a href="thread.html#3588">[ thread ]</a>
              <a href="subject.html#3588">[ subject ]</a>
              <a href="author.html#3588">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alieza,

comments inline...

On Sep 14, 2010, at 3:17 PM, Alireza Kashian wrote:

&gt;<i> Hi.
</I>&gt;<i> 
</I>&gt;<i> I have been user of mapnik for almost two years and we started form earliest versions.
</I>
Nice!

&gt;<i> Recently we decided to upgrade some of our old maps, so I do have a few short questions about mapnik and stylesheet techniques.
</I>&gt;<i> 
</I>&gt;<i> 1. Our current version is 0.6.0 on Debian.. We like to install new 0.7.0.. Should we remove old mapnik or use apt-get update?
</I>
I recommend installing the latest Mapnik 0.7 release from source. apt-get uninstall your apt version, and install 0.7.1.

&gt;<i> we don't want to lose our old settings if any..how should we upgrade?
</I>&gt;<i> 
</I>
You should not loose any settings upgrading. But do see the release notes:

<A HREF="http://trac.mapnik.org/wiki/MapnikReleases">http://trac.mapnik.org/wiki/MapnikReleases</A>

&gt;<i> 2- I do remember that Artem helped us about Arabic/Farsi scripts since from 0.6.0 unicode and Right to left languages were also supported. Still we have a problem about parenthesis.
</I>
Yes, I know about this and have played a bit with using ubidi write reordered function in ICU with some success, but the fix has yet to be added to Mapnik.

You can track Unicode/RTL issues at: <A HREF="http://trac.mapnik.org/wiki/InternationalText">http://trac.mapnik.org/wiki/InternationalText</A>

The issue you are talking about is most related to mirroring I think:

<A HREF="http://trac.mapnik.org/ticket/364">http://trac.mapnik.org/ticket/364</A>

&gt;<i> If there is a parenthesis in the name, the characters of Arabic/Farsi names become seperated.
</I>
yes.

&gt;<i> Like you want to put old and new names of road like: Morgan Road (Blossom Road) .. In Farsi you write &#1605;&#1585;&#1711;&#1575;&#1606; (&#1576;&#1604;&#1575;&#1587;&#1608;&#1605;)
</I>&gt;<i> 
</I>&gt;<i> the Right to Left feature has problem with parenthesis.
</I>&gt;<i> 
</I>
It would be *excellent* if you could provide a small test case, with data (shapefile, etc) + xml stylesheet + expected output. Could you do this and attach it to that ticket #364?

&gt;<i> 3- If we want to draw 100 roads and each road with different color, then we don't know how to use stylesheets. Because mapnik just allows us to  use name=&quot;field_name&quot; as the the only field we can read from database in TextSymbolizer. but we have a field in our database called color which we want to use it as well for Text color or Road color. How can we use that field. FILTERS are good, but for each color we need a filter and then we have 9 zoom levels, then it is a headache!! is there a facility in mapnik to help us do it easier?
</I>
Yes, in trunk we now support &quot;expressions&quot; for pulling things from data features other than label fields. However it is not exposed yet for color. What format is your database color in?

&gt;<i> 
</I>&gt;<i> 4- As I read in mapnik scale denominator page, it use 90.7 PPI as the base for Scale calculations. But when we test our maps in openlayers, we see the scale printed on lower corner is calculated based on 72 DPI...is it something wrong with our settings in Openlayers or it is mapnik who calculates in 72 PPI!!! which scale should we trust.
</I>
Mapnik assumes 28mm pixels and thus ~ 91 ppi yes (as per OGC spec).

If OpenLayers uses a different assumption (which is plausible) then that is separate from Mapnik. Hopefully there is a setting in OL to adjust it...

&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Many thanks
</I>&gt;<i> Alireza
</I>&gt;<i> 
</I>&gt;<i> 
</I>
You are welcome,

Dane
&gt;<i> _______________________________________________
</I>&gt;<i> Mapnik-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003558.html">[Mapnik-users] some questions about recent mapnik developments
</A></li>
	<LI>Next message: <A HREF="003559.html">[Mapnik-users] correct scaling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3588">[ date ]</a>
              <a href="thread.html#3588">[ thread ]</a>
              <a href="subject.html#3588">[ subject ]</a>
              <a href="author.html#3588">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
