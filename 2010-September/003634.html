<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Debugging mapnik hangs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Debugging%20mapnik%20hangs&In-Reply-To=%3C1285710801.21801.128.camel%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003633.html">
   <LINK REL="Next"  HREF="003635.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Debugging mapnik hangs</H1>
    <B>Jon Burgess</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Debugging%20mapnik%20hangs&In-Reply-To=%3C1285710801.21801.128.camel%40localhost.localdomain%3E"
       TITLE="[Mapnik-users] Debugging mapnik hangs">jburgess777 at gmail.com
       </A><BR>
    <I>Tue Sep 28 23:53:21 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003633.html">[Mapnik-users] Debugging mapnik hangs
</A></li>
        <LI>Next message: <A HREF="003635.html">[Mapnik-users] Debugging mapnik hangs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3634">[ date ]</a>
              <a href="thread.html#3634">[ thread ]</a>
              <a href="subject.html#3634">[ subject ]</a>
              <a href="author.html#3634">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2010-09-28 at 14:41 -0700, NopMap wrote:
&gt;<i> I managed to build a libmapnik with debug symbols. 
</I>&gt;<i> 
</I>&gt;<i> Next I will try to build with internal AGG, I think I saw something
</I>&gt;<i> about
</I>&gt;<i> InternalAgg=No in the build rules.
</I>&gt;<i> 
</I>&gt;<i> This is what gdb says:
</I>&gt;<i> 
</I>&gt;<i> (gdb) thread apply all bt
</I>&gt;<i> 
</I>&gt;<i> Thread 1 (Thread 0x7f31bbe8b720 (LWP 26435)):
</I>&gt;<i> #0  0x00007f31bb72e02d in
</I>&gt;<i> agg::renderer_outline_image&lt;agg::renderer_base&lt;agg::pixfmt_alpha_blend_rgba&lt;agg::blender_rgba_plain&lt;agg::rgba8,
</I>&gt;<i> agg::order_rgba&gt;, agg::row_ptr_cache&lt;unsigned char&gt;, unsigned int&gt; &gt;,
</I>&gt;<i> agg::line_image_pattern&lt;agg::pattern_filter_bilinear_rgba&lt;agg::rgba8&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;::line3 (this=0x7fff61319820, lp=...,
</I>&gt;<i>     sx=194867, sy=524287, ex=194868, ey=524286) at
</I>&gt;<i> /usr/include/agg2/agg_renderer_outline_image.h:985
</I>&gt;<i> 
</I>
That is great, it confirms several things: The Mapnik code is being
built against the system Agg library and this is one of the loops that
has been fixed in the Mapnik copy of Agg. I'm pretty sure that this
combination of start and end points fit the criteria to trigger this
infinite loop.

Building Mapnik with its own internal copy of the Agg code should
resolve this.

	Jon



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003633.html">[Mapnik-users] Debugging mapnik hangs
</A></li>
	<LI>Next message: <A HREF="003635.html">[Mapnik-users] Debugging mapnik hangs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3634">[ date ]</a>
              <a href="thread.html#3634">[ thread ]</a>
              <a href="subject.html#3634">[ subject ]</a>
              <a href="author.html#3634">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
