<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Mapnik OGC server is displaying the background	white instead of blue
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Mapnik%20OGC%20server%20is%20displaying%20the%20background%0A%09white%20instead%20of%20blue&In-Reply-To=%3CF7034B6C-8724-4EA9-BEEB-299F5DA5A498%40hailmail.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002483.html">
   <LINK REL="Next"  HREF="002485.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Mapnik OGC server is displaying the background	white instead of blue</H1>
    <B>Dane Springmeyer</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Mapnik%20OGC%20server%20is%20displaying%20the%20background%0A%09white%20instead%20of%20blue&In-Reply-To=%3CF7034B6C-8724-4EA9-BEEB-299F5DA5A498%40hailmail.net%3E"
       TITLE="[Mapnik-users] Mapnik OGC server is displaying the background	white instead of blue">blake at hailmail.net
       </A><BR>
    <I>Sat Nov  7 20:53:03 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002483.html">[Mapnik-users] Mapnik OGC server is displaying the background	white instead of blue
</A></li>
        <LI>Next message: <A HREF="002485.html">[Mapnik-users] mapnik::Layer assignment bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2484">[ date ]</a>
              <a href="thread.html#2484">[ thread ]</a>
              <a href="subject.html#2484">[ subject ]</a>
              <a href="author.html#2484">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>John. Great glad that worked.

You only need to send transparent=true if you want a transparent  
background. Likely the only reason you would want this is if you were  
not using the coastlines shapefiles and wanting to overlay osm  
features on top of something like aerial imagery.

Dane

--- \o/ ---
Sent from my phone

On Nov 7, 2009, at 10:59 AM, John Mitchell &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">mitchelljj98 at gmail.com</A>&gt;  
wrote:

&gt;<i> Thanks Dane,
</I>&gt;<i>
</I>&gt;<i> That worked great!.
</I>&gt;<i>
</I>&gt;<i> My open street map layer is my bottom/base layer so I don't need to  
</I>&gt;<i> worry about transparency so is their any benefit in me adding  
</I>&gt;<i> TRANSPARENT=&lt;bool&gt; to the query string?
</I>&gt;<i>
</I>&gt;<i> John
</I>&gt;<i>
</I>&gt;<i> On Sat, Nov 7, 2009 at 11:25 AM, Dane Springmeyer  
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">blake at hailmail.net</A>&gt; wrote:
</I>&gt;<i> Yes, I've always found the background color setting odd with the  
</I>&gt;<i> OGCServer, but I assume that is it simply matching the WMS spec.
</I>&gt;<i>
</I>&gt;<i> To get the standard OSM background color, you need to send the HEX  
</I>&gt;<i> color in the Query string, but replace the '#' with '0x', so  
</I>&gt;<i> something like:
</I>&gt;<i>
</I>&gt;<i> BGCOLOR=0xb5d0d0
</I>&gt;<i>
</I>&gt;<i> Also note the additional variable you can send of TRANSPARENT=&lt;bool&gt;
</I>&gt;<i>
</I>&gt;<i> Lastly, keep in mind that although the OGGServer is a bit buried in  
</I>&gt;<i> the Mapnik code base, it simply a few python scripts and you should  
</I>&gt;<i> (as others should) feel free to peek inside and provide patches for  
</I>&gt;<i> additional functionality:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://trac.mapnik.org/browser/trunk/bindings/python/mapnik/ogcserver">http://trac.mapnik.org/browser/trunk/bindings/python/mapnik/ogcserver</A>
</I>&gt;<i>
</I>&gt;<i> Dane
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Nov 7, 2009, at 1:06 AM, John Mitchell wrote:
</I>&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I have been using the Mapnik OGC server to display open street map  
</I>&gt;<i> data and it looks identical to tiles that I generated via  
</I>&gt;<i> generate_tiles.py except that the background instead of the being  
</I>&gt;<i> blue is white.  I noticed in the osm.xml that near the top of the  
</I>&gt;<i> file it has the below line:
</I>&gt;<i> &lt;Map bgcolor=&quot;#b5d0d0&quot; srs=&quot;+proj=merc +a=6378137 +b=6378137  
</I>&gt;<i> +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m  
</I>&gt;<i> +nadgrids=@null +no_defs +over&quot;&gt;
</I>&gt;<i>
</I>&gt;<i> This sets the background color which is used by generate_tiles.py  
</I>&gt;<i> but not for a WMS request when LAYERS=__all__.
</I>&gt;<i> Also I noticed that the land at world and medium scales are a very  
</I>&gt;<i> lite pink instead of being white but that may just be the contrast  
</I>&gt;<i> with the white background instead of the blue background.
</I>&gt;<i>
</I>&gt;<i> John
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> John J. Mitchell
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mapnik-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> John J. Mitchell
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20091107/165ae399/attachment.html">https://lists.berlios.de/pipermail/mapnik-users/attachments/20091107/165ae399/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002483.html">[Mapnik-users] Mapnik OGC server is displaying the background	white instead of blue
</A></li>
	<LI>Next message: <A HREF="002485.html">[Mapnik-users] mapnik::Layer assignment bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2484">[ date ]</a>
              <a href="thread.html#2484">[ thread ]</a>
              <a href="subject.html#2484">[ subject ]</a>
              <a href="author.html#2484">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
