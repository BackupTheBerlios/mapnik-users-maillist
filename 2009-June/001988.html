<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Different hillshading approaches
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Different%20hillshading%20approaches&In-Reply-To=%3C4A25BE2A.3050501%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001989.html">
   <LINK REL="Next"  HREF="001990.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Different hillshading approaches</H1>
    <B>Marcin Rudowski</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Different%20hillshading%20approaches&In-Reply-To=%3C4A25BE2A.3050501%40gmail.com%3E"
       TITLE="[Mapnik-users] Different hillshading approaches">mrudowski1 at gmail.com
       </A><BR>
    <I>Wed Jun  3 02:04:58 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001989.html">[Mapnik-users] Different hillshading approaches
</A></li>
        <LI>Next message: <A HREF="001990.html">[Mapnik-users] Different hillshading approaches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1988">[ date ]</a>
              <a href="thread.html#1988">[ thread ]</a>
              <a href="subject.html#1988">[ subject ]</a>
              <a href="author.html#1988">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Colin Marquardt pisze:
&gt;<i> The relief layer is different of course, but not so much IMO:
</I>&gt;<i> <A HREF="http://m4.mapserver.mapy.cz/relief-l/11_7e60000_8480000">http://m4.mapserver.mapy.cz/relief-l/11_7e60000_8480000</A> vs.
</I>&gt;<i> <A HREF="http://opentiles.com/cmarqu/tiles_relief/12/2209/1372.png">http://opentiles.com/cmarqu/tiles_relief/12/2209/1372.png</A>
</I>&gt;<i> 
</I>&gt;<i> Does anybody have a guess as to what the crucial difference is?
</I>&gt;<i> 
</I>They are more different then You think. In Your case You shade 
luminosity and assign opacity 0.7 (constant alfa). In mapy.cz image is 
all black and in fact shaded alfa channel is making it look relief.

Try to invert Your gray value and make it alfa of new black image.
Then simple composition with base layer without any additional opacity 
change in OpenLayers should be enough.

Nice trick with multiplication by using www browser to apply alfa and 
make it hillshaded.

I tried this too when experimenting, but finally decided for different 
approach (like gimp's merge-grain):
<A HREF="http://mapa.ump.waw.pl/ump-www/?zoom=10&amp;lat=49.54125&amp;lon=19.28081">http://mapa.ump.waw.pl/ump-www/?zoom=10&amp;lat=49.54125&amp;lon=19.28081</A>
<A HREF="https://lists.berlios.de/pipermail/mapnik-users/2009-February/001651.html">https://lists.berlios.de/pipermail/mapnik-users/2009-February/001651.html</A>
On the other side, I have some areas too bright.

Comparison of different methods using Your image:
<A HREF="http://mapa.ump.waw.pl/ump-www/mapnik/composing.png">http://mapa.ump.waw.pl/ump-www/mapnik/composing.png</A>

Legend:
without effect     opacity(Your example)
merge-grain(mine)  multiply(mapy.cz)


Marcin Rudowski

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001989.html">[Mapnik-users] Different hillshading approaches
</A></li>
	<LI>Next message: <A HREF="001990.html">[Mapnik-users] Different hillshading approaches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1988">[ date ]</a>
              <a href="thread.html#1988">[ thread ]</a>
              <a href="subject.html#1988">[ subject ]</a>
              <a href="author.html#1988">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
