<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Raster Layer is Clipped
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Raster%20Layer%20is%20Clipped&In-Reply-To=%3C1245794221.7087.150.camel%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002070.html">
   <LINK REL="Next"  HREF="002079.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Raster Layer is Clipped</H1>
    <B>Jon Burgess</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Raster%20Layer%20is%20Clipped&In-Reply-To=%3C1245794221.7087.150.camel%40localhost.localdomain%3E"
       TITLE="[Mapnik-users] Raster Layer is Clipped">jburgess777 at googlemail.com
       </A><BR>
    <I>Tue Jun 23 23:57:01 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002070.html">[Mapnik-users] Raster Layer is Clipped
</A></li>
        <LI>Next message: <A HREF="002079.html">[Mapnik-users] Raster Layer is Clipped
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2078">[ date ]</a>
              <a href="thread.html#2078">[ thread ]</a>
              <a href="subject.html#2078">[ subject ]</a>
              <a href="author.html#2078">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2009-06-22 at 09:01 -0700, Andrew Ayre wrote:
&gt;<i> Interesting! So with the same input files and same script you get a 
</I>&gt;<i> different output to me. Here is my output:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://files.britishideas.com/public/mapping/output.png">http://files.britishideas.com/public/mapping/output.png</A>
</I>
Your image is definitely different to mine. The only thing I changed was
the Map() dimensions that I posted before.

&gt;<i> Notice how it is the same dimensions as yours but missing quite a bit 
</I>&gt;<i> off the bottom. Also there are lots of jagged lines because it looks 
</I>&gt;<i> like the image has been stretched.
</I>
Mine is stretched a little - it has to be given the way the dimensions
have changed. I guess the original image was in the OSM style 900913
projection. If you used this instead then you should avoid the
stretching. Alternatively, you could render the input image in latlong.

&gt;<i> I am using Mapnik 0.6.0 on Windows XP. If you are not using Windows 
</I>&gt;<i> perhaps this is a bug in the Windows version?
</I>
I'm using a fairly recent SVN mapnik build (r1179) on Fedora 10 x86_64
along with gdal-1.5.3-1.fc10.x86_64. I don't remember any specific fixes
to the projection since 0.6 though.

I think the best approach would be to use the same projection for the
raster and output map. This should avoid any issues with the image
changing dimensions and avoid any clipping issues.

	Jon





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002070.html">[Mapnik-users] Raster Layer is Clipped
</A></li>
	<LI>Next message: <A HREF="002079.html">[Mapnik-users] Raster Layer is Clipped
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2078">[ date ]</a>
              <a href="thread.html#2078">[ thread ]</a>
              <a href="subject.html#2078">[ subject ]</a>
              <a href="author.html#2078">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
