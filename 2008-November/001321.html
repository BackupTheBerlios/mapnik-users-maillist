<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Nik2img.py coastline issue (totally wrong
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Nik2img.py%20coastline%20issue%20%28totally%20wrong&In-Reply-To=%3C1225640866.3773.106.camel%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001323.html">
   <LINK REL="Next"  HREF="001334.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Nik2img.py coastline issue (totally wrong</H1>
    <B>Jon Burgess</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Nik2img.py%20coastline%20issue%20%28totally%20wrong&In-Reply-To=%3C1225640866.3773.106.camel%40localhost.localdomain%3E"
       TITLE="[Mapnik-users] Nik2img.py coastline issue (totally wrong">jburgess777 at googlemail.com
       </A><BR>
    <I>Sun Nov  2 16:47:46 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001323.html">[Mapnik-users] Nested coastline holes and Mapnik rendering
</A></li>
        <LI>Next message: <A HREF="001334.html">[Mapnik-users] extent settings/coordinate mismatch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1321">[ date ]</a>
              <a href="thread.html#1321">[ thread ]</a>
              <a href="subject.html#1321">[ subject ]</a>
              <a href="author.html#1321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 2008-11-02 at 16:15 +0200, Rahkonen Jukka wrote:
&gt;<i> Thaks a lot Jon.  I feel stupid, I should have been looking closer to the BOX3D.  By giving the same BOX3D both queries are returning same count of features.  
</I>&gt;<i> 
</I>&gt;<i> What I think now is that perhaps the real reason for the problem is in the data.  OpenJUMP is suggesting that the feature set returned by the query that leads to missing islands is containing invalid polygons. Does somebody know how could I verify that from the database or from the shapefiles?
</I>&gt;<i> 
</I>&gt;<i> This query should return wrong geometries:
</I>&gt;<i> 
</I>&gt;<i> select asbinary(way) as way FROM shoreline_a where way &amp;&amp; setSRID('BOX3D(2796623.487632482 8414856.658170387,3648235.036730606 8450106.434262134)'::box3d,900913)
</I>&gt;<i> 
</I>&gt;<i> I am sorry about my misleading reports.  I hope that at least the data error is real.
</I>
Postgis will identify invalid polygon geometries for you:

=&gt; select osm_id from planet_osm_polygon where not isvalid(way);

These errors may cause the individual polygons to mis-render but should
not make a difference to other data. The positive ID's listed should
match the ways IDs. Negative values are the IDs of multipolygon
relations.

	Jon



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001323.html">[Mapnik-users] Nested coastline holes and Mapnik rendering
</A></li>
	<LI>Next message: <A HREF="001334.html">[Mapnik-users] extent settings/coordinate mismatch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1321">[ date ]</a>
              <a href="thread.html#1321">[ thread ]</a>
              <a href="subject.html#1321">[ subject ]</a>
              <a href="author.html#1321">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
