<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] label placement
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20label%20placement&In-Reply-To=%3CD9D1424E05DF4241A73945FB84F81A8A077EDD34%40UM-XMAIL02.um.umsystem.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001763.html">
   <LINK REL="Next"  HREF="001764.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] label placement</H1>
    <B>Earney, Billy C.</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20label%20placement&In-Reply-To=%3CD9D1424E05DF4241A73945FB84F81A8A077EDD34%40UM-XMAIL02.um.umsystem.edu%3E"
       TITLE="[Mapnik-users] label placement">earney at umsystem.edu
       </A><BR>
    <I>Fri Apr 10 16:37:39 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001763.html">[Mapnik-users] New ticket
</A></li>
        <LI>Next message: <A HREF="001764.html">[Mapnik-users] WIN XP installation error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1767">[ date ]</a>
              <a href="thread.html#1767">[ thread ]</a>
              <a href="subject.html#1767">[ subject ]</a>
              <a href="author.html#1767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm using the python bindings for mapnik (I've tried versions 51 and 60)
and still having the same issues.  I'm having trouble placing (moving)
some labels.  Enclosed is an image where &quot;outer boone&quot; is outside its
polygon, and the same thing occurs for &quot;Springfield Suburbs&quot;.
Springfield is a small polygon inside the springfield suburbs polygon.
For most labels mapnik seems to do a good job, but for these special
cases, I'm having trouble moving them to a better location.

 

Here's some of the code I'm using to try to move the labels and its like
mapnik is just ignoring the variables I'm setting..  I've tried changing
the label_placment from LINE TO POINT to see if that would help, along
with many of the other variables below, and no luck..

 

text_symbolizer = TextSymbolizer('NAME',

                                            'DejaVu Sans Book',

                                            labelsize,
Color(labelcolor))

 

text_symbolizer.set_label_placement=label_placement.LINE_PLACEMENT

text_symbolizer.halo_fill=Color(&quot;white&quot;)

text_symbolizer.halo_radius=2

 text_symbolizer.allow_overlap=0

 text_symbolizer.avoid_edges=1

 text_symbolizer.label_position_tolerance=1000

 text.label_spacing=10

 

 text_symbolizer.max_char_angle_delta=35

 text_symbolizer.dx=100

 text_symbolizer.dy=100

            

 rule = Rule()

 rule.symbols.append(text_symbolizer)

 

 style = Style()

 style.rules.append(rule)

....

 

Any help is greatly appreciated...

 

Billy Earney

<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">earney at umsystem.edu</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">earney at umsystem.edu</A>&gt; 

Programmer/Analyst-Expert

Office of Social and Economic Data Analysis (OSEDA)

University of Missouri

Phone: 573-882-7396

Fax: 573-884-4635

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20090410/7de0e592/attachment.html">https://lists.berlios.de/pipermail/mapnik-users/attachments/20090410/7de0e592/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: out.png
Type: image/png
Size: 86152 bytes
Desc: out.png
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20090410/7de0e592/attachment.png">https://lists.berlios.de/pipermail/mapnik-users/attachments/20090410/7de0e592/attachment.png</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001763.html">[Mapnik-users] New ticket
</A></li>
	<LI>Next message: <A HREF="001764.html">[Mapnik-users] WIN XP installation error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1767">[ date ]</a>
              <a href="thread.html#1767">[ thread ]</a>
              <a href="subject.html#1767">[ subject ]</a>
              <a href="author.html#1767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
