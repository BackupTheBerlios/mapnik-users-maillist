<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] [Mapnik-devel] Mapnik WMS setup
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20%5BMapnik-devel%5D%20Mapnik%20WMS%20setup&In-Reply-To=%3C48AB2B80.8060308%40remote.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001083.html">
   <LINK REL="Next"  HREF="001079.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] [Mapnik-devel] Mapnik WMS setup</H1>
    <B>Frederik Ramm</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20%5BMapnik-devel%5D%20Mapnik%20WMS%20setup&In-Reply-To=%3C48AB2B80.8060308%40remote.org%3E"
       TITLE="[Mapnik-users] [Mapnik-devel] Mapnik WMS setup">frederik at remote.org
       </A><BR>
    <I>Tue Aug 19 22:22:24 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001083.html">[Mapnik-users] [Mapnik-devel] Mapnik WMS setup
</A></li>
        <LI>Next message: <A HREF="001079.html">[Mapnik-users] manually drawing layers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1084">[ date ]</a>
              <a href="thread.html#1084">[ thread ]</a>
              <a href="subject.html#1084">[ subject ]</a>
              <a href="author.html#1084">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Rahkonen Jukka wrote:
&gt;<i> Actually I am after out-of-the-box solution, precompiled binaries,
</I>&gt;<i> Windows installer and so, but I may be alone with my wish here.  I
</I>&gt;<i> can render maps from OSM data with demo script generate_image.py, but
</I>&gt;<i> they are a bit hard to use in GIS applications because the map area
</I>&gt;<i> that is really rendered do not suit the LL coordinates that
</I>&gt;<i> generate_image.py takes as input.  Now I am capturing the real
</I>&gt;<i> coordinates from PostGIS log where SQL requests which are sent by
</I>&gt;<i> Mapnik are recorded. 
</I>
A while ago a patch of mine has been incorporated that allows you to set 
a property on the map object, forcing it to change the size of the map 
image instead while sticking to the exact bbox you requested 
(&quot;setAspectFixMode&quot; method on map). This will then result in an image of 
slightly different width or height than you requested, and you have to 
scale that image to the original request size. Artem has pointed out 
that Mapnik supports image resizing, giving this example:

ImageData32 source(100,100);
ImageData32 target(200,120);
scale_image&lt;ImageData32&gt;(target,source); // stretch source to fit taget

Unfortunately both the &quot;setAspectFixMode&quot; and the image resizing are 
probably not yet in the python bindings so they're only available from 
C. I have used this in my own Mapnik WMS implementation which is written 
in C but unfortunately not ready for prime time yet - it works but I 
have to brush up the code a bit to release the source.

Bye
Frederik

-- 
Frederik Ramm  ##  eMail <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">frederik at remote.org</A>  ##  N49&#176;00'09&quot; E008&#176;23'33&quot;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001083.html">[Mapnik-users] [Mapnik-devel] Mapnik WMS setup
</A></li>
	<LI>Next message: <A HREF="001079.html">[Mapnik-users] manually drawing layers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1084">[ date ]</a>
              <a href="thread.html#1084">[ thread ]</a>
              <a href="subject.html#1084">[ subject ]</a>
              <a href="author.html#1084">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
