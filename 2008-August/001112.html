<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] how to put a symbol in a given coord?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20how%20to%20put%20a%20symbol%20in%20a%20given%20coord%3F&In-Reply-To=%3C1219933895.3132.12.camel%40yoda%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001108.html">
   <LINK REL="Next"  HREF="001104.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] how to put a symbol in a given coord?</H1>
    <B>Felipe Reyes</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20how%20to%20put%20a%20symbol%20in%20a%20given%20coord%3F&In-Reply-To=%3C1219933895.3132.12.camel%40yoda%3E"
       TITLE="[Mapnik-users] how to put a symbol in a given coord?">felipereyes at openfountain.cl
       </A><BR>
    <I>Thu Aug 28 16:31:35 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001108.html">[Mapnik-users] how to put a symbol in a given coord?
</A></li>
        <LI>Next message: <A HREF="001104.html">[Mapnik-users] Creating pre-rendered tiles, one time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1112">[ date ]</a>
              <a href="thread.html#1112">[ thread ]</a>
              <a href="subject.html#1112">[ subject ]</a>
              <a href="author.html#1112">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>El mi&#233;, 27-08-2008 a las 00:30 -0700, Dane Springmeyer escribi&#243;:
&gt;<i> Felipe,
</I>&gt;<i> 
</I>&gt;<i> Pasting some of the code you are currently working with might help me  
</I>&gt;<i> and other mapnik users better understand your problem.
</I>&gt;<i> 
</I>&gt;<i> It seems you've got a graphic symbol that represents a dynamically  
</I>&gt;<i> located point placed by a user who has interacted with an OpenLayers  
</I>&gt;<i> Map. You need to figure out how to plot that symbol on your mapnik OSM  
</I>&gt;<i> tiles and then re-render them for printable output.
</I>&gt;<i> 
</I>&gt;<i> Perhaps you can use OpenLayers to get the lon/lat of your screen  
</I>&gt;<i> coordinate graphic location then post that feature to Featureserver  
</I>&gt;<i> (or just a python script using psycopg2 to save the feature to  
</I>&gt;<i> postgis), to save that coordinate to a shapefile or postgis  
</I>&gt;<i> datasource. Then you can kick off a python script to generate a large  
</I>&gt;<i> single tile based on your OSM data and the FeatureServer datasource  
</I>&gt;<i> given the BBOX of the current OpenLayers map view. In your python  
</I>&gt;<i> script you would create a Shield or PointSymbolizer and append it to  
</I>&gt;<i> your map layers before rendering to symbolize your marker graphic.
</I>&gt;<i> 
</I>Thanks Dane, I folllowed this clue and I get a succesful result, still
is far from be ideal, because the concurrency it's a trouble using this
method, because one user just needs to see one location, so if two
request the same area but for different points at the same time the will
see two points, so I will have to think in a work around about this
issue

&gt;<i> 
</I>&gt;<i> Hope that helps,
</I>&gt;<i> 
</I>&gt;<i> Dane
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Aug 26, 2008, at 8:38 AM, Felipe Reyes wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Hi everyone,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm working with OpenLayers for a web frontend, and the OSM data like
</I>&gt;<i> &gt; backend (using mod_tile for apache), but the user needs to save an  
</I>&gt;<i> &gt; image
</I>&gt;<i> &gt; of the map that is seeing with the marker of the position where a mail
</I>&gt;<i> &gt; was delivered, currently I have a python script that generate the  
</I>&gt;<i> &gt; image,
</I>&gt;<i> &gt; but still I cannot put the marker in the right place, I have the  
</I>&gt;<i> &gt; coords,
</I>&gt;<i> &gt; but I don't know how to translate them to pixels units or use the  
</I>&gt;<i> &gt; mapnik
</I>&gt;<i> &gt; api to put a custom image in a given coord and then render to image
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; can somebody give me clue?, I been looking for docs, but there is a
</I>&gt;<i> &gt; lack, if I get the goal of do this I promise that I will write a  
</I>&gt;<i> &gt; little
</I>&gt;<i> &gt; doc explaining how to do it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; thanks in advance y thanks for giving us mapnik because it's so cool
</I>&gt;<i> &gt; -- 
</I>&gt;<i> &gt; Felipe Reyes A. &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">felipereyes at openfountain.cl</A>&gt;
</I>&gt;<i> &gt; Open Fountain
</I>&gt;<i> &gt; Av. Santa Mar&#237;a #2670, Oficina 501
</I>&gt;<i> &gt; Providencia, Santiago de Chile
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Mapnik-users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</I>&gt;<i> 
</I>-- 
Felipe Reyes A. &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">felipereyes at openfountain.cl</A>&gt;
Open Fountain
Av. Santa Mar&#237;a #2670, Oficina 501
Providencia, Santiago de Chile


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001108.html">[Mapnik-users] how to put a symbol in a given coord?
</A></li>
	<LI>Next message: <A HREF="001104.html">[Mapnik-users] Creating pre-rendered tiles, one time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1112">[ date ]</a>
              <a href="thread.html#1112">[ thread ]</a>
              <a href="subject.html#1112">[ subject ]</a>
              <a href="author.html#1112">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
