<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Black holes in hillshade image
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Black%20holes%20in%20hillshade%20image&In-Reply-To=%3Calpine.DEB.2.00.0910021101220.17059%40ancalime.tolkien.home%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002377.html">
   <LINK REL="Next"  HREF="002383.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Black holes in hillshade image</H1>
    <B>Holger Sch&#246;ner</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Black%20holes%20in%20hillshade%20image&In-Reply-To=%3Calpine.DEB.2.00.0910021101220.17059%40ancalime.tolkien.home%3E"
       TITLE="[Mapnik-users] Black holes in hillshade image">numenor at ancalime.de
       </A><BR>
    <I>Fri Oct  2 11:09:11 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002377.html">[Mapnik-users] Black holes in hillshade image
</A></li>
        <LI>Next message: <A HREF="002383.html">[Mapnik-users] Black holes in hillshade image
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2379">[ date ]</a>
              <a href="thread.html#2379">[ thread ]</a>
              <a href="subject.html#2379">[ subject ]</a>
              <a href="author.html#2379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Adam,

On Thu, 1 Oct 2009, Adam Ratcliffe wrote:
&gt;<i> With further experimentation it seems that 32767 does seem to be the correct 
</I>&gt;<i> value for the -srcnodata option.  I've also found that if I omit the 
</I>&gt;<i> -dstnodata option from the gdalwarp command the black holes do not appear, 
</I>&gt;<i> presumably because the void data is then not included in the reprojected 
</I>&gt;<i> image.
</I>
&gt;<i> On 1/10/2009, at 3:56 PM, Adam Ratcliffe wrote:
</I>&gt;&gt;<i> I've created a hillshade image using the NASA SRTM3 data following the 
</I>&gt;&gt;<i> notes at: <A HREF="http://wiki.openstreetmap.org/wiki/HikingBikingMaps.">http://wiki.openstreetmap.org/wiki/HikingBikingMaps.</A>  Looks great 
</I>&gt;&gt;<i> except for the occasional 'black hole' in the image, I expect this is due 
</I>&gt;&gt;<i> to data voids not being rendered correctly.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> What's got me puzzled about this is that the wiki page suggests using a 
</I>&gt;&gt;<i> value of 32767 for the -srcnodata and -dstnodata options to gdalwarp, 
</I>&gt;&gt;<i> howver in the NASA docs 
</I>&gt;&gt;<i> (<A HREF="http://dds.cr.usgs.gov/srtm/version2_1/Documentation/Quickstart.pdf">http://dds.cr.usgs.gov/srtm/version2_1/Documentation/Quickstart.pdf</A>) it 
</I>&gt;&gt;<i> says data voids are assigned the value -32768.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Should I be using the NASA value for -srcnodata and -dstnodata instead?
</I>
Thanks for working this out! Maybe you can correct the wiki page?

I wrote that Wiki page, and I just remember that at that time (a year ago) 
the interpretation was unclear for me. I remember having some problems and 
experimenting; but in my region, there are no voids, so I might not have 
found the right solution at that time. And I remember encountering &quot;black 
holes&quot; later on in other regions (thinking there is no way around having 
them, without setting them explicitly to some arbitrary value), as well.

I will try out your suggestions in a few days myself (and might update the 
page afterwards, if you have not done so then) ...

Thanks,
Holger
-------------- next part --------------
_______________________________________________
Mapnik-users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002377.html">[Mapnik-users] Black holes in hillshade image
</A></li>
	<LI>Next message: <A HREF="002383.html">[Mapnik-users] Black holes in hillshade image
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2379">[ date ]</a>
              <a href="thread.html#2379">[ thread ]</a>
              <a href="subject.html#2379">[ subject ]</a>
              <a href="author.html#2379">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
