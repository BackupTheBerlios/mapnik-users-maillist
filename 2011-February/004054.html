<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Some lat/lng rendering slowly
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Some%20lat/lng%20rendering%20slowly&In-Reply-To=%3C4D64E81B.6070305%40rainbow.co.jp%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004053.html">
   <LINK REL="Next"  HREF="004055.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Some lat/lng rendering slowly</H1>
    <B>Kaku Shou</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Some%20lat/lng%20rendering%20slowly&In-Reply-To=%3C4D64E81B.6070305%40rainbow.co.jp%3E"
       TITLE="[Mapnik-users] Some lat/lng rendering slowly">s.kaku at rainbow.co.jp
       </A><BR>
    <I>Wed Feb 23 11:57:31 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004053.html">[Mapnik-users] Some lat/lng rendering slowly
</A></li>
        <LI>Next message: <A HREF="004055.html">[Mapnik-users] Some lat/lng rendering slowly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4054">[ date ]</a>
              <a href="thread.html#4054">[ thread ]</a>
              <a href="subject.html#4054">[ subject ]</a>
              <a href="author.html#4054">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
&gt;<i> &quot;We suspected that maybe this is related to server spec or postgresql.
</I>&gt;<i> Firstly, We change the spec of the server to test, and the result is
</I>&gt;<i> the same: the different lat/lng, and the different speed. But when
</I>&gt;<i> high CPU is used, all of rendering speed become faster. &quot;
</I>&gt;<i>
</I>&gt;<i> What does this mean? When you run it on a different server it renders faster?
</I>Thanks for your reply.

We test in two servers:
one is low performance
  lng between 135.5 and 135.85, it takes 10 minutes,
  lng between 135.85 and 136, it takes 7.5 hours.

and the other is high performance
  lng between 135.5 and 135.85, it takes 4 minutes,
  lng between 135.85 and 136, it takes 3 hours.

As a resultm the high performace server renders faster, but the rending 
speed of lng between 135.85 and 136 is slow, too.

Best regards

Kaku


(11/02/23 19:27), Roel Vanhout wrote:
&gt;<i> &quot;We suspected that maybe this is related to server spec or postgresql.
</I>&gt;<i> Firstly, We change the spec of the server to test, and the result is
</I>&gt;<i> the same: the different lat/lng, and the different speed. But when
</I>&gt;<i> high CPU is used, all of rendering speed become faster. &quot;
</I>&gt;<i>
</I>&gt;<i> What does this mean? When you run it on a different server it renders faster?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2011/2/23 Kaku Shou&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">s.kaku at rainbow.co.jp</A>&gt;:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My name is Kaku from Rainbow. Currently, I am trying to render osm data of
</I>&gt;&gt;<i> Japan, and encounter a problem that the speed is very slow when rendering
</I>&gt;&gt;<i> some lat/lng.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For exmaple, if we set bbox = (135.5,34, 136,34.5), and zoom level = 16, the
</I>&gt;&gt;<i> rendering speed of folder between 54435 (lng = 135.5) and 57498(lng =
</I>&gt;&gt;<i> 135.85) is very fast, and it takes 4 minutes to render; but the rendering
</I>&gt;&gt;<i> speed of folder between 57499 (lng = 135.855) and 57526 (lng = 136) is very
</I>&gt;&gt;<i> slow, and it takes 3 hour to render.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We suspected that maybe this is related to server spec or postgresql.
</I>&gt;&gt;<i> Firstly, We change the spec of the server to test, and the result is the
</I>&gt;&gt;<i> same: the different lat/lng, and the different speed. But when high CPU is
</I>&gt;&gt;<i> used, all of rendering speed become faster. Secondly, we check the log of
</I>&gt;&gt;<i> postgresql, the query is executed as fast as it could be. So it doesn't look
</I>&gt;&gt;<i> like this is related to either server spec or postgresql.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Could anyone give me any advice to resolve this problem to accelerate the
</I>&gt;&gt;<i> rendering speed. Below are our server spec:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Server spec:
</I>&gt;&gt;<i>    CPU : 64bit, 4 Cores
</I>&gt;&gt;<i>    Memory : 2G
</I>&gt;&gt;<i>    OS : Ubuntu 10.04
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Installed packages
</I>&gt;&gt;<i>   python-cairo libmapnik0.7 mapnik-utils python-mapnik
</I>&gt;&gt;<i>   Postgres 8.4
</I>&gt;&gt;<i>   PostGIS 1.4
</I>&gt;&gt;<i>   Mapnik
</I>&gt;&gt;<i>    src : <A HREF="http://svn.mapnik.org/tags/release-0.7.1/">http://svn.mapnik.org/tags/release-0.7.1/</A>
</I>&gt;&gt;<i>   Rendering OpenStreetMap with Mapnik
</I>&gt;&gt;<i>    src : <A HREF="http://svn.openstreetmap.org/applications/rendering/mapnik/">http://svn.openstreetmap.org/applications/rendering/mapnik/</A>
</I>&gt;&gt;<i>    rendering srcript : generate_tiles_multiprocess.py
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Mapnik-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004053.html">[Mapnik-users] Some lat/lng rendering slowly
</A></li>
	<LI>Next message: <A HREF="004055.html">[Mapnik-users] Some lat/lng rendering slowly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4054">[ date ]</a>
              <a href="thread.html#4054">[ thread ]</a>
              <a href="subject.html#4054">[ subject ]</a>
              <a href="author.html#4054">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
