<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Overall rendering time is very slow and needs you help!
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Overall%20rendering%20time%20is%20very%20slow%20and%20needs%0A%20you%20help%21&In-Reply-To=%3Cc9d3d99ac129af84462e8630e46a5341.squirrel%40webmail.xs4all.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003978.html">
   <LINK REL="Next"  HREF="003992.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Overall rendering time is very slow and needs you help!</H1>
    <B>Lennard</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Overall%20rendering%20time%20is%20very%20slow%20and%20needs%0A%20you%20help%21&In-Reply-To=%3Cc9d3d99ac129af84462e8630e46a5341.squirrel%40webmail.xs4all.nl%3E"
       TITLE="[Mapnik-users] Overall rendering time is very slow and needs you help!">ldp at xs4all.nl
       </A><BR>
    <I>Mon Feb  7 10:58:49 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003978.html">[Mapnik-users] Overall rendering time is very slow and needs	you help!
</A></li>
        <LI>Next message: <A HREF="003992.html">[Mapnik-users] Overall rendering time is very slow and needs	you help!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3979">[ date ]</a>
              <a href="thread.html#3979">[ thread ]</a>
              <a href="subject.html#3979">[ subject ]</a>
              <a href="author.html#3979">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> We are struggling for several month for this rendering but still the
</I>&gt;<i> rendering speed is too slow. We followed several comments from community
</I>&gt;<i> but still not getting better. If you have any suggestion or idea from you
</I>&gt;<i> experience, it will help us.
</I>
You didn't mention your datasource, but from previous messages[1], I
assume you're working with OSM data. You said last time you were operating
with OSM data from December 2010. You also said you didn't have the
relation that was pointed out then.

That relation[2] is only one of the many huge natural=wood areas that were
added to Japan, as part of an import. They are all imported as insanely
large multipolygon relations. For instance, that relation 1337942 was
added 23 December 2010. Others might already have been imported before the
data of your local planet or extract.

What you could try now is find the rules in the stylesheet that relate to
natural=wood, and disable those. Also find the related SQL queries in the
&lt;Layer&gt; and modify them so they're explicitly *not* fetching natural=wood
from the database. You have to be very sure these large objects are not
fetched from the database[3].

Then try rendering. If your rendering is now fast again, this natural=wood
import for Japan is the culprit. If so, try working with the person(s)
that imported the data, and see if you can get them to clean up and
simplify the data.

[1] <A HREF="https://lists.berlios.de/pipermail/mapnik-users/2011-February/003959.html">https://lists.berlios.de/pipermail/mapnik-users/2011-February/003959.html</A>
[2] <A HREF="http://api.openstreetmap.org/api/0.6/relation/1337942">http://api.openstreetmap.org/api/0.6/relation/1337942</A>
[3] Layers involved: &quot;leisure&quot; and &quot;text&quot;/&quot;text-poly&quot;

-- 
Lennard


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003978.html">[Mapnik-users] Overall rendering time is very slow and needs	you help!
</A></li>
	<LI>Next message: <A HREF="003992.html">[Mapnik-users] Overall rendering time is very slow and needs	you help!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3979">[ date ]</a>
              <a href="thread.html#3979">[ thread ]</a>
              <a href="subject.html#3979">[ subject ]</a>
              <a href="author.html#3979">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
