<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] MultiPolygon not supported in OGR?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20MultiPolygon%20not%20supported%20in%20OGR%3F&In-Reply-To=%3C1297892712.29826.14.camel%40shark.nightingale.homedns.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004021.html">
   <LINK REL="Next"  HREF="004023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] MultiPolygon not supported in OGR?</H1>
    <B>Jon Burgess</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20MultiPolygon%20not%20supported%20in%20OGR%3F&In-Reply-To=%3C1297892712.29826.14.camel%40shark.nightingale.homedns.org%3E"
       TITLE="[Mapnik-users] MultiPolygon not supported in OGR?">jburgess777 at gmail.com
       </A><BR>
    <I>Wed Feb 16 22:45:12 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004021.html">[Mapnik-users] MultiPolygon not supported in OGR?
</A></li>
        <LI>Next message: <A HREF="004023.html">[Mapnik-users] MultiPolygon not supported in OGR?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4022">[ date ]</a>
              <a href="thread.html#4022">[ thread ]</a>
              <a href="subject.html#4022">[ subject ]</a>
              <a href="author.html#4022">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2011-02-16 at 13:31 -0800, David Wiesen wrote:
&gt;<i> I am using version 1.7.2
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; gdal-config --version
</I>&gt;<i> 1.7.2
</I>
I would question whether the gdal.input you are using with Mapnik is
really linked against this version of the gdal library since the error
message you are seeing can realistically only be generated by an older
version of code which does not have the &quot;wkbMultiPolygon&quot; string listed
in that table.

For reference the block of code in gdal-1.7.2 which matches against this
string table and reports the error message you gave is here:
<A HREF="http://trac.osgeo.org/gdal/browser/tags/1.7.2/gdal/ogr/ogrsf_frmts/vrt/ogrvrtlayer.cpp#L275">http://trac.osgeo.org/gdal/browser/tags/1.7.2/gdal/ogr/ogrsf_frmts/vrt/ogrvrtlayer.cpp#L275</A>

   Jon

&gt;<i> On Wed, Feb 16, 2011 at 1:29 PM, Jon Burgess &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">jburgess777 at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>         On Wed, 2011-02-16 at 12:50 -0800, David Wiesen wrote:
</I>&gt;<i>         &gt; I am trying to use an Ogr data source to hook up MySQL as a
</I>&gt;<i>         backend
</I>&gt;<i>         &gt; for mapnik.  However, I am running into early problems:
</I>&gt;<i>         &gt;
</I>&gt;<i>         &gt; &gt;&gt;&gt; import mapnik &gt;&gt;&gt; ds = mapnik.Ogr(file='plots.ovf',
</I>&gt;<i>         layer='plots')
</I>&gt;<i>         &gt; ERROR 1: GeometryType wkbMultiPolygon not recognised.
</I>&gt;<i>         Traceback (most
</I>&gt;<i>         &gt; recent call last):   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
</I>&gt;<i>         File
</I>&gt;<i>         &gt; &quot;/usr/lib/pymodules/python2.6/mapnik/__init__.py&quot;, line 429,
</I>&gt;<i>         in Ogr
</I>&gt;<i>         &gt;     return CreateDatasource(keywords) RuntimeError:
</I>&gt;<i>         GeometryType
</I>&gt;<i>         &gt; wkbMultiPolygon not recognised. &gt;&gt;&gt;
</I>&gt;<i>         &gt;
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i>         That error seems to be thrown from the gdal/ogr code, not
</I>&gt;<i>         mapnik itself.
</I>&gt;<i>         
</I>&gt;<i>         By the look of things, there was a bug in the gdal code which
</I>&gt;<i>         meant that
</I>&gt;<i>         wkbMultiPolygon used the wrong name string. It looks like this
</I>&gt;<i>         was fixed
</I>&gt;<i>         in gdal-1.7.0+, what version are you using?
</I>&gt;<i>         
</I>&gt;<i>         <A HREF="http://trac.osgeo.org/gdal/changeset/17923">http://trac.osgeo.org/gdal/changeset/17923</A>
</I>&gt;<i>         
</I>&gt;<i>          Jon
</I>&gt;<i>         
</I>&gt;<i>         
</I>&gt;<i> 
</I>&gt;<i> 
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004021.html">[Mapnik-users] MultiPolygon not supported in OGR?
</A></li>
	<LI>Next message: <A HREF="004023.html">[Mapnik-users] MultiPolygon not supported in OGR?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4022">[ date ]</a>
              <a href="thread.html#4022">[ thread ]</a>
              <a href="subject.html#4022">[ subject ]</a>
              <a href="author.html#4022">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
