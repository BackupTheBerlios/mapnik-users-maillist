<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Help need to improve rendering speed.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Help%20need%20to%20improve%20rendering%20speed.&In-Reply-To=%3C9424D45F-1D07-4C90-A2FC-4FA34BA3BD02%40dbsgeo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004085.html">
   <LINK REL="Next"  HREF="004082.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Help need to improve rendering speed.</H1>
    <B>Dane Springmeyer</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Help%20need%20to%20improve%20rendering%20speed.&In-Reply-To=%3C9424D45F-1D07-4C90-A2FC-4FA34BA3BD02%40dbsgeo.com%3E"
       TITLE="[Mapnik-users] Help need to improve rendering speed.">dane at dbsgeo.com
       </A><BR>
    <I>Sun Mar 13 23:01:11 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004085.html">[Mapnik-users] Use MarkersSymbolizer
</A></li>
        <LI>Next message: <A HREF="004082.html">[Mapnik-users] Help need to improve rendering speed.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4081">[ date ]</a>
              <a href="thread.html#4081">[ thread ]</a>
              <a href="subject.html#4081">[ subject ]</a>
              <a href="author.html#4081">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jin,

I've just imported osm for japan to help get set up for producing products for the quake response.

I've noticing the really large relations that Lennard called out as the problem. I think he was spot on about this being the problem. I have also connected with Artem who appears to have greatly improved Mapnik's ability to handle polygons of this size and complexity.

So, I have documented Artem's fix at this ticket: <A HREF="http://trac.mapnik.org/ticket/728">http://trac.mapnik.org/ticket/728</A>

What this means is that Mapnik 2.0 (current trunk) may be *much* more suited for rendering Japan OSM data. To upgrade to Mapnik trunk see this page: 

<A HREF="http://trac.mapnik.org/wiki/Mapnik2">http://trac.mapnik.org/wiki/Mapnik2</A>

To get your current osm.xml working with Mapnik2 you will need to upgrade it like:

$ upgrade_map_xml.py osm.xml osm2.xml

And then use the osm2.xml.

Get in touch if you have any questions or need help. I apologize that I did not see this connection sooner.

Dane


On Feb 24, 2011, at 10:42 PM, Jin Kang wrote:

&gt;<i> Sorry everyone! The following time should be minute, not sec.
</I>&gt;<i> amenity-poly: 5.7 min
</I>&gt;<i> leisure: 1.44min
</I>&gt;<i> text-poly: 1.43min
</I>&gt;<i> 
</I>&gt;<i> Sorry for the confusion!
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> -Jin
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Feb 25, 2011, at 3:37 PM, Jin Kang wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Hello everyone,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> This is Jin again from Rainbow. My engineer is rendering Japanese map in zoom level 16 as I mentioned before but still we are experiencing very slow rendering speed. Sometime, we are noticing it take several minutes for just one tile. We put some code to debug and found that we  are especially seeing very slow speed in following layers. 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> amenity-poly: 5.7s
</I>&gt;&gt;<i> leisure: 1.44s
</I>&gt;&gt;<i> text-poly: 1.43s
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Can someone tell us what are these layers for? Is it okay to deleted these from OSM file and rendering?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Thanks in advance!
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -Jin
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mapnik-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004085.html">[Mapnik-users] Use MarkersSymbolizer
</A></li>
	<LI>Next message: <A HREF="004082.html">[Mapnik-users] Help need to improve rendering speed.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4081">[ date ]</a>
              <a href="thread.html#4081">[ thread ]</a>
              <a href="subject.html#4081">[ subject ]</a>
              <a href="author.html#4081">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
