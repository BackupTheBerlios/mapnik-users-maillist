<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Getting mapnik to work with rasters (with or without	GDAL)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Getting%20mapnik%20to%20work%20with%20rasters%20%28with%20or%20without%0A%09GDAL%29&In-Reply-To=%3C20070705185010.GH21034%40maz2.kyla.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000357.html">
   <LINK REL="Next"  HREF="000325.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Getting mapnik to work with rasters (with or without	GDAL)</H1>
    <B>Tomi Pievil&#228;inen</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Getting%20mapnik%20to%20work%20with%20rasters%20%28with%20or%20without%0A%09GDAL%29&In-Reply-To=%3C20070705185010.GH21034%40maz2.kyla.fi%3E"
       TITLE="[Mapnik-users] Getting mapnik to work with rasters (with or without	GDAL)">tpievila at cc.hut.fi
       </A><BR>
    <I>Thu Jul  5 20:50:10 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000357.html">[Mapnik-users] Mapnik database indepenent layer
</A></li>
        <LI>Next message: <A HREF="000325.html">[Mapnik-users] Getting mapnik to work with rasters (with or	without GDAL)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#324">[ date ]</a>
              <a href="thread.html#324">[ thread ]</a>
              <a href="subject.html#324">[ subject ]</a>
              <a href="author.html#324">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I got interested when I noticed that mapnik has a preliminary GDAL
support, but after tinkering with it for a while, couldn't get it to
work. Actually, I couldn't get even the older raster support to
produce anything but a white blank (no errors or any other clear sign
to point me to a possible mistake). I used the following script, and
as you can notice from the comments, I tried various methods wondering
what might be going wrong:

from mapnik import *

#m = Map(400,400,&quot;+proj=sterea +lat_0=60.184140833333331 +lon_0=24.949358611111112 +k_0=1.00001316 +x_0=50000 +y_0=20000&quot;)
m = Map(400,400)
m.background = Color('white')
opaskartta_layer = Layer('Opaskartta')
style = Style()
rule = Rule()
style.rules.append(rule)
m.append_style('opaskartta', style)
opaskartta_layer.datasource = Datasource(type='gdal', file='data/opaskartat/ophki_4m_hki.tif', encoding='latin1')
#opaskartta_layer.datasource = Raster(file='data/opaskartat/ophki_4m_hki.tif', encoding='latin1', lox='42599.0', loy='10401.0', hix='65999.0', hiy='32001.0', type='tiff')
opaskartta_layer.styles.append('opaskartta')
m.layers.append(opaskartta_layer)
#m.zoom_to_box(Envelope(50000, 20000, 51000, 21000))
m.zoom_to_box(Envelope(10000, 10000, 51000, 51000))
#m.zoom_to_box(Envelope(60.184, 24.949, 60.185, 25))
render_to_file(m, 'demo.png', 'png')

Any hints on what I'm doing wrong are appreciated.

-- 
Tomi Pievil&#228;inen, +358 400 487 504
&quot;I will sit down now, but the time will come when you will hear me.&quot;
- Benjamin Disraeli, 1st Earl of Beaconsfield
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20070705/d582356a/attachment.pgp">https://lists.berlios.de/pipermail/mapnik-users/attachments/20070705/d582356a/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000357.html">[Mapnik-users] Mapnik database indepenent layer
</A></li>
	<LI>Next message: <A HREF="000325.html">[Mapnik-users] Getting mapnik to work with rasters (with or	without GDAL)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#324">[ date ]</a>
              <a href="thread.html#324">[ thread ]</a>
              <a href="subject.html#324">[ subject ]</a>
              <a href="author.html#324">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
