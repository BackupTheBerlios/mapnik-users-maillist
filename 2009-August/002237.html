<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] NIk2img text fill issue
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20NIk2img%20text%20fill%20issue&In-Reply-To=%3C633d34560908270927t478dbed2lb11c287af3c87ef9%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002236.html">
   <LINK REL="Next"  HREF="002239.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] NIk2img text fill issue</H1>
    <B>Matt Bartolome</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20NIk2img%20text%20fill%20issue&In-Reply-To=%3C633d34560908270927t478dbed2lb11c287af3c87ef9%40mail.gmail.com%3E"
       TITLE="[Mapnik-users] NIk2img text fill issue">mattxbart at gmail.com
       </A><BR>
    <I>Thu Aug 27 18:27:39 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002236.html">[Mapnik-users] NIk2img text fill issue
</A></li>
        <LI>Next message: <A HREF="002239.html">[Mapnik-users] NIk2img text fill issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2237">[ date ]</a>
              <a href="thread.html#2237">[ thread ]</a>
              <a href="subject.html#2237">[ subject ]</a>
              <a href="author.html#2237">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've done some SVG rendering directly with cairo and it never worked
right for me when viewed in Illustrator. Same thing as you describe,
huge text and scaling issues. Switched to Inkscape and it looks
perfect.

On Thu, Aug 27, 2009 at 9:11 AM, Jamie
Robertson&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">jamie at backcountryporch.com</A>&gt; wrote:
&gt;<i> Dane-&#160; the svg output renders fine in firefox, inkscape, or as a pdf.&#160; I
</I>&gt;<i> should have checked those first..&#160; So, it's definitely a font issue in
</I>&gt;<i> Illustrator.&#160; The weird thing is that even when i copy all of the DejaVu
</I>&gt;<i> fonts that mapnik uses into the windows fonts directory, and Illustrator
</I>&gt;<i> loads them (I can use all of the fonts as a regular text element),
</I>&gt;<i> Illustrator still won't use them when I import the svg from nik2img.&#160; Any
</I>&gt;<i> ideas on why it might not be picking those fonts up? (same issue in
</I>&gt;<i> Illustrator on a mac)
</I>&gt;<i>
</I>&gt;<i> Also, when importing the svg to illustrator,&#160; I get an error that says &quot;The
</I>&gt;<i> following items could not be imported properly&quot; and &quot;clipping will be lost
</I>&gt;<i> on roundtrip to Tiny&quot;.&#160; It then imports the svg, and everything looks fine
</I>&gt;<i> except for the text.
</I>&gt;<i>
</I>&gt;<i> A quick search on this error tells me that &quot;The graphic you are working with
</I>&gt;<i> contains a clipping mask. The alert is simply telling you that the clipping
</I>&gt;<i> mask will not survive the trip back to SVG Tiny&quot;&#160; However, i think the text
</I>&gt;<i> fill/font issue is unrelated because to this error because i get it even
</I>&gt;<i> when i create an svg of the map without any text labels.
</I>&gt;<i>
</I>&gt;<i> On Fri, Aug 14, 2009 at 1:29 PM, Dane Springmeyer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">blake at hailmail.net</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Wow, never seen that before.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Jamie, do you get this when rendering to PDF as well or when you view the
</I>&gt;&gt;<i> SVG output in some other application like Firefox or Inkscape?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can you post your relevant XML as well?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Dane
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Aug 14, 2009, at 10:20 AM, Jamie Robertson wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi all- &#160;I'm having an issue with .svg export in Nik2img. &#160;The ouput svg
</I>&gt;&gt;&gt;<i> is really nice, except for text labels. &#160;The halos for the text (white on
</I>&gt;&gt;&gt;<i> the attached jpg) are placed, sized, and rendered correctly. &#160;But the text
</I>&gt;&gt;&gt;<i> fills (black) are enormous (take up a the entire exported area and then
</I>&gt;&gt;&gt;<i> some) and stacked upon each other. Notice the letter &quot;V&quot; which is selected
</I>&gt;&gt;&gt;<i> in Illustrator on the attached jpg. &#160;When i output this same xml file to
</I>&gt;&gt;&gt;<i> .png, everything renders correctly, including the text fills. &#160;Any ideas?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks,
</I>&gt;&gt;&gt;<i> Jamie Robertson
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;nik2img_text_fill_issue.jpg&gt;_______________________________________________
</I>&gt;&gt;&gt;<i> Mapnik-users mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mapnik-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002236.html">[Mapnik-users] NIk2img text fill issue
</A></li>
	<LI>Next message: <A HREF="002239.html">[Mapnik-users] NIk2img text fill issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2237">[ date ]</a>
              <a href="thread.html#2237">[ thread ]</a>
              <a href="subject.html#2237">[ subject ]</a>
              <a href="author.html#2237">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
