<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] I'm having problems with the XML returned	inresponse to GetCapabilities
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20I%27m%20having%20problems%20with%20the%20XML%20returned%0A%09inresponse%20to%20GetCapabilities&In-Reply-To=%3C001d01ca1b53%2483f29870%248bd7c950%24%40org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002190.html">
   <LINK REL="Next"  HREF="002195.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] I'm having problems with the XML returned	inresponse to GetCapabilities</H1>
    <B>Jome Akpoduado</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20I%27m%20having%20problems%20with%20the%20XML%20returned%0A%09inresponse%20to%20GetCapabilities&In-Reply-To=%3C001d01ca1b53%2483f29870%248bd7c950%24%40org%3E"
       TITLE="[Mapnik-users] I'm having problems with the XML returned	inresponse to GetCapabilities">jome at eraction.org
       </A><BR>
    <I>Wed Aug 12 15:47:56 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002190.html">[Mapnik-users] I'm having problems with the XML returned	inresponse to GetCapabilities
</A></li>
        <LI>Next message: <A HREF="002195.html">[Mapnik-users]  Installing Mapnik
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2191">[ date ]</a>
              <a href="thread.html#2191">[ thread ]</a>
              <a href="subject.html#2191">[ subject ]</a>
              <a href="author.html#2191">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Rahkonen

I did add &amp;service=WMS to the request. See below. The thing is that the XML returned contains these weird ns0:, ns1: (which I&#8217;m reading now pertains to namespaces)

 

When I ran the same request against  <A HREF="http://wms.dbsgeo.com/">http://wms.dbsgeo.com/</A> the XML returned is devoid of these pesky ns0: additions. I think this is what stops the WMS client from properly parsing the XML file returned from my server for the capabilities. I still think it all has to do with the way my server responds to this request. How can I suppress that?

 

Thanks.

 

Jome

 

 

From: Rahkonen Jukka [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Jukka.Rahkonen at mmmtike.fi</A>] 
Sent: Wednesday, August 12, 2009 3:17 PM
To: Jome Akpoduado; <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">mapnik-users at lists.berlios.de</A>
Subject: Re: [Mapnik-users] I'm having problems with the XML returned inresponse to GetCapabilities

 

Hi

 

Add &amp;service=WMS to the request.

<A HREF="http://greenstreamsa.com/wms.py?service=WMS">http://greenstreamsa.com/wms.py?service=WMS</A> &lt;<A HREF="http://greenstreamsa.com/wms.py?service=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetCapabilities">http://greenstreamsa.com/wms.py?service=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetCapabilities</A>&gt; &amp;VERSION=1.1.1&amp;REQUEST=GetCapabilities

 

It is good to have it always in GetMap requests against all the WMS servers even it may be not compulsory according to the standard.

 

-Jukka Rahkonen-

 

 


  _____  


Jome Akpoduado  wrote:

Hi all,

So far I think I&#8217;ve made some progress in setting up a WMS server (basic). I can get images when I make I url mapping request like so &#8230;
<A HREF="http://greenstreamsa.com/wms.py?VERSION=1.1.1">http://greenstreamsa.com/wms.py?VERSION=1.1.1</A> &lt;<A HREF="http://greenstreamsa.com/wms.py?VERSION=1.1.1&amp;REQUEST=GetMap&amp;LAYERS=__all__&amp;FORMAT=image/png&amp;SRS=EPSG:4326&amp;STYLES=&amp;BBOX=-90,-20,40,40&amp;EXCEPTIONS=application/vnd.ogc.se_inimage&amp;width=1024&amp;height=768">http://greenstreamsa.com/wms.py?VERSION=1.1.1&amp;REQUEST=GetMap&amp;LAYERS=__all__&amp;FORMAT=image/png&amp;SRS=EPSG:4326&amp;STYLES=&amp;BBOX=-90,-20,40,40&amp;EXCEPTIONS=application/vnd.ogc.se_inimage&amp;width=1024&amp;height=768</A>&gt; &amp;REQUEST=GetMap&amp;LAYERS=__all__&amp;FORMAT=image/png&amp;SRS=EPSG:4326&amp;STYLES=&amp;BBOX=-90,-20,40,40&amp;EXCEPTIONS=application/vnd.ogc.se_inimage&amp;width=1024&amp;height=768

 

Now when I want to use a WMS client (Nice Map Drupal module) to get capabilities, no results come back. When I run the same url nice map runs, I do get an XML output (<A HREF="http://greenstreamsa.com/wms?request=GetCapabilities">http://greenstreamsa.com/wms?request=GetCapabilities</A> &lt;<A HREF="http://greenstreamsa.com/wms?request=GetCapabilities&amp;service=WMS">http://greenstreamsa.com/wms?request=GetCapabilities&amp;service=WMS</A>&gt; &amp;service=WMS). See an excerpt below.

 

 &lt;ns0:WMS_Capabilities version=&quot;1.3.0&quot; ns1:schemaLocation=&quot;<A HREF="http://www.opengis.net/wms">http://www.opengis.net/wms</A> <A HREF="http://schemas.opengis.net/wms/1.3.0/capabilities_1_3_0.xsd">http://schemas.opengis.net/wms/1.3.0/capabilities_1_3_0.xsd</A>&quot;&gt;

&#8722;

&lt;ns0:Service&gt;

&lt;ns0:Name&gt;WMS&lt;/ns0:Name&gt;

&lt;Title&gt;Oilwatch Mapping Server&lt;/Title&gt;

 

When I run the same getCapabilities against a WMS server example Dane kindly pointed to me, I get this output

 

&lt;WMS_Capabilities version=&quot;1.3.0&quot; xsi:schemaLocation=&quot;<A HREF="http://www.opengis.net/wms">http://www.opengis.net/wms</A> <A HREF="http://schemas.opengis.net/wms/1.3.0/capabilities_1_3_0.xsd">http://schemas.opengis.net/wms/1.3.0/capabilities_1_3_0.xsd</A>&quot;&gt;

&#8722;

&lt;Service&gt;

&lt;Name&gt;WMS&lt;/Name&gt;

&lt;Title&gt;MapnikOGC&lt;/Title&gt;

&lt;Abstract&gt;The Mapnik OGC Server Sample Configuration&lt;/Abstract&gt;

 

Straightaway, I noticed that my xml output contains &#8220;ns0:&#8221; which I honestly have no clue what it is&#8230; (I&#8217;m very green when it comes to xml)

This leads me to think it must be some settings issue with my server.

Any ideas how this can be fixed?

 

Many thanks&#8230;

 

 

Jome.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20090812/6e1f1580/attachment.html">https://lists.berlios.de/pipermail/mapnik-users/attachments/20090812/6e1f1580/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002190.html">[Mapnik-users] I'm having problems with the XML returned	inresponse to GetCapabilities
</A></li>
	<LI>Next message: <A HREF="002195.html">[Mapnik-users]  Installing Mapnik
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2191">[ date ]</a>
              <a href="thread.html#2191">[ thread ]</a>
              <a href="subject.html#2191">[ subject ]</a>
              <a href="author.html#2191">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
