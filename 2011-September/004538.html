<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] grid_renderer issues when using ShieldSymbolizer
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20grid_renderer%20issues%20when%20using%20ShieldSymbolizer&In-Reply-To=%3CE4FE05D6C63F274A98181FEFBBCF76D88645FC7B%40stkmail.smartrak.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="004539.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] grid_renderer issues when using ShieldSymbolizer</H1>
    <B>Jacob Toye</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20grid_renderer%20issues%20when%20using%20ShieldSymbolizer&In-Reply-To=%3CE4FE05D6C63F274A98181FEFBBCF76D88645FC7B%40stkmail.smartrak.co.nz%3E"
       TITLE="[Mapnik-users] grid_renderer issues when using ShieldSymbolizer">jacob at smartrak.co.nz
       </A><BR>
    <I>Thu Sep  1 23:09:51 CEST 2011</I>
    <P><UL>
        
        <LI>Next message: <A HREF="004539.html">[Mapnik-users] Cannot build mapnik2 with mingw
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4538">[ date ]</a>
              <a href="thread.html#4538">[ thread ]</a>
              <a href="subject.html#4538">[ subject ]</a>
              <a href="author.html#4538">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi guys,

I am using Python Mapnik2 on Ubuntu. I'm also using TileStache (<A HREF="http://tilestache.org/">http://tilestache.org/</A>) to serve the tiles. To add interactivity to my map I'm using the grid_renderer (<A HREF="http://trac.mapnik.org/wiki/MapnikRenderers#grid_renderer">http://trac.mapnik.org/wiki/MapnikRenderers#grid_renderer</A>).

The json that grid_renderer generates seems to be working for the most part, however it is returning results for items that are not rendered on the map. My map is your general Google maps type map. I have a TextSymbolizer layer that I use to render road labels and place names. To render POI's I am using the ShieldSymbolizer. The ShieldSymbolizer layer has a greater layer index than the TextSymbolizer layers. What seems to be happening is that the tile renderer is hiding shields if the shield (or accompanying text) wants to render over a road or place name. However the grid_renderer does not seem to be applying the same rule when generating the grid.json.

So on my front end software (Leaflet + Wax) when I use the grid.json I can mouse over a point on a tile that has no shield rendered but does have a hit in the grid.json.

Is this a known limitation of grid_renderer? Any chance it will be improved in the future?

Cheers,
Jacob


Jacob Toye
Senior Software Engineer

DDI +64 7 857 0803 |  M +64 21 876 648|  E <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">jacob at smartrak.co.nz</A>&lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">jacob at smartrak.co.nz</A>&gt;  |  T +64 7 857 0800  |  F +64 7 857 0801
Waikato Innovation Park, Ruakura Rd  |  PO Box 7239, Hamilton 3247, NZ |  www.smartrak.co.nz&lt;<A HREF="http://www.smartrak.co.nz/">http://www.smartrak.co.nz/</A>&gt;
[Description: cid:<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">image001.png at 01CBDF32.B900D730</A>]

This email and any attachments are confidential and are for the intended addressee(s) only.  Confidentiality is not waived due to accidental delivery to you. If you have received this communication erroneously, please delete.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20110901/85585181/attachment.html">https://lists.berlios.de/pipermail/mapnik-users/attachments/20110901/85585181/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.jpg
Type: image/jpeg
Size: 8973 bytes
Desc: image001.jpg
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20110901/85585181/attachment.jpg">https://lists.berlios.de/pipermail/mapnik-users/attachments/20110901/85585181/attachment.jpg</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="004539.html">[Mapnik-users] Cannot build mapnik2 with mingw
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4538">[ date ]</a>
              <a href="thread.html#4538">[ thread ]</a>
              <a href="subject.html#4538">[ subject ]</a>
              <a href="author.html#4538">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
