<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Bug in gdal plugin in 0.7.0
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Bug%20in%20gdal%20plugin%20in%200.7.0&In-Reply-To=%3C27303982.post%40talk.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002860.html">
   <LINK REL="Next"  HREF="002866.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Bug in gdal plugin in 0.7.0</H1>
    <B>Nicolas Gillet</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Bug%20in%20gdal%20plugin%20in%200.7.0&In-Reply-To=%3C27303982.post%40talk.nabble.com%3E"
       TITLE="[Mapnik-users] Bug in gdal plugin in 0.7.0">nicolas.gillet at market-ip.com
       </A><BR>
    <I>Mon Jan 25 10:26:22 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002860.html">[Mapnik-users] Bug in gdal plugin in 0.7.0
</A></li>
        <LI>Next message: <A HREF="002866.html">[Mapnik-users] Bug in gdal plugin in 0.7.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2862">[ date ]</a>
              <a href="thread.html#2862">[ thread ]</a>
              <a href="subject.html#2862">[ subject ]</a>
              <a href="author.html#2862">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello Dane,

Thank you for your invest.

I did not put my XML at first as it was deadly simple :

&lt;?xml version=&quot;1.0&quot;?&gt;
	&lt;Map bgcolor=&quot;#94BAD4&quot;&gt;
	&lt;/Map&gt;

Actually I made a C++ application using mapnik lib and that recieves
- an xml for styles
- a BBox (top left bottom right srid)
- a width / heigth
- and some shapes files and/or rasters

Inside my application I build the map with those informations using mapnik
objects and output a map.
My application also provides a default style for rasters and that's why the
xml is &quot;empty&quot;.

So I made a test with a complete xml including almost all the parameters I
usually give to my application separately :
&lt;?xml version=&quot;1.0&quot;?&gt;
	&lt;Map bgcolor=&quot;#94BAD4&quot; buffer_size=&quot;256&quot; srs=&quot;+proj=merc +a=6378137
+b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +units=m +k=1.0
+nadgrids=@null +no_defs&quot;&gt;
		&lt;Style name=&quot;smalltile&quot;&gt;
			&lt;Rule&gt;
				&lt;RasterSymbolizer /&gt;
			&lt;/Rule&gt;
		&lt;/Style&gt;
		&lt;Layer name=&quot;bigraster&quot; srs=&quot;+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0
+lon_0=0.0 +x_0=0.0 +y_0=0 +units=m +k=1.0 +nadgrids=@null +no_defs&quot;&gt;
			&lt;StyleName&gt;smalltile&lt;/StyleName&gt;
			&lt;Datasource&gt;
                &lt;Parameter name=&quot;type&quot;&gt;gdal&lt;/Parameter&gt;
                &lt;Parameter name=&quot;file&quot;&gt;C:\temp\0.png&lt;/Parameter&gt;
        &lt;/Datasource&gt;
		&lt;/Layer&gt;
	&lt;/Map&gt;

This XML is the configuration to create a small tile out of my png raster.
Tile and raster are both in png (not png256)

The output with this XML and my application is still wrong with gdal plugin
0.7.0 (and still right with 0.6.1)

The BBox of the tile is:
top : 6540563.63593437 
left : 528332.738612503 
bottom : 6535671.666125 
right : 533224.708421878

When I said &quot;I build mapnik lib and plugins myself under 0.6.1 and 0.7.0 &quot; ;
I meant : 
I used sources from svn (without a change) and built it myself under VC++. 
I did not use the windows binaries available in the mapnik web site.
(actually I tried to use them before  but my application doesn't work at all
with them)

One last point, when I compare the gdal.input given with the win32 binaries
and my gdal plugins I noticed a huge difference in file' size :
win32 : 3.82 Mo
mine 0.6.1 : 60 Ko
mine 0.7.0 : 84 Ko
But as my plugin in 0.6.1 works, I don't think we should care about this
difference.

Let me know if you need anything else.

Thank you again for your help.

Nicolas.
-- 
View this message in context: <A HREF="http://old.nabble.com/Bug-in-gdal-plugin-in-0.7.0-tp27274892p27303982.html">http://old.nabble.com/Bug-in-gdal-plugin-in-0.7.0-tp27274892p27303982.html</A>
Sent from the Mapnik - Users mailing list archive at Nabble.com.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002860.html">[Mapnik-users] Bug in gdal plugin in 0.7.0
</A></li>
	<LI>Next message: <A HREF="002866.html">[Mapnik-users] Bug in gdal plugin in 0.7.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2862">[ date ]</a>
              <a href="thread.html#2862">[ thread ]</a>
              <a href="subject.html#2862">[ subject ]</a>
              <a href="author.html#2862">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
