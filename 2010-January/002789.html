<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Test fails
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Test%20fails&In-Reply-To=%3C7923a7731001110626s572189f7mc606e562d37fce3b%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002788.html">
   <LINK REL="Next"  HREF="002790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Test fails</H1>
    <B>Dom Lehr</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Test%20fails&In-Reply-To=%3C7923a7731001110626s572189f7mc606e562d37fce3b%40mail.gmail.com%3E"
       TITLE="[Mapnik-users] Test fails">dominic.lehr at googlemail.com
       </A><BR>
    <I>Mon Jan 11 15:26:08 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002788.html">[Mapnik-users] Test fails
</A></li>
        <LI>Next message: <A HREF="002790.html">[Mapnik-users] Test fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2789">[ date ]</a>
              <a href="thread.html#2789">[ thread ]</a>
              <a href="subject.html#2789">[ subject ]</a>
              <a href="author.html#2789">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Artem!

I &quot;guess&quot; I installed ICU4_2... I downloaded the source, ran
&quot;runConfigureICU Linux&quot;, then &quot;gmake&quot; and finally &quot;gmake install&quot;. So this
is what I got in my /usr/local/lib:

dbsosm:/usr/local/lib # ls -l
total 52918
drwxr-xr-x 3 root root      160 Jan  8 11:11 icu
-rw-r--r-- 1 root root   161780 Jan  8 11:00 libboost_date_time.a
lrwxrwxrwx 1 root root       28 Jan  8 10:58 libboost_date_time.so -&gt;
libboost_date_time.so.1.42.0
-rwxr-xr-x 1 root root   103797 Jan  8 10:58 libboost_date_time.so.1.42.0
-rw-r--r-- 1 root root   202310 Jan  8 11:00 libboost_filesystem.a
lrwxrwxrwx 1 root root       29 Jan  8 10:58 libboost_filesystem.so -&gt;
libboost_filesystem.so.1.42.0
-rwxr-xr-x 1 root root   119793 Jan  8 10:58 libboost_filesystem.so.1.42.0
-rw-r--r-- 1 root root   865370 Jan  8 11:01 libboost_graph.a
lrwxrwxrwx 1 root root       24 Jan  8 10:59 libboost_graph.so -&gt;
libboost_graph.so.1.42.0
-rwxr-xr-x 1 root root   520857 Jan  8 10:59 libboost_graph.so.1.42.0
-rw-r--r-- 1 root root   252500 Jan  8 11:01 libboost_iostreams.a
lrwxrwxrwx 1 root root       28 Jan  8 10:59 libboost_iostreams.so -&gt;
libboost_iostreams.so.1.42.0
-rwxr-xr-x 1 root root   139886 Jan  8 10:59 libboost_iostreams.so.1.42.0
-rw-r--r-- 1 root root   387136 Jan  8 11:03 libboost_math_c99.a
lrwxrwxrwx 1 root root       27 Jan  8 10:54 libboost_math_c99.so -&gt;
libboost_math_c99.so.1.42.0
-rwxr-xr-x 1 root root   202408 Jan  8 10:54 libboost_math_c99.so.1.42.0
-rw-r--r-- 1 root root   392946 Jan  8 11:03 libboost_math_c99f.a
lrwxrwxrwx 1 root root       28 Jan  8 10:54 libboost_math_c99f.so -&gt;
libboost_math_c99f.so.1.42.0
-rwxr-xr-x 1 root root   198896 Jan  8 10:54 libboost_math_c99f.so.1.42.0
-rw-r--r-- 1 root root   387936 Jan  8 11:03 libboost_math_c99l.a
lrwxrwxrwx 1 root root       28 Jan  8 10:54 libboost_math_c99l.so -&gt;
libboost_math_c99l.so.1.42.0
-rwxr-xr-x 1 root root   195524 Jan  8 10:54 libboost_math_c99l.so.1.42.0
-rw-r--r-- 1 root root  2253832 Jan  8 11:02 libboost_math_tr1.a
lrwxrwxrwx 1 root root       27 Jan  8 10:53 libboost_math_tr1.so -&gt;
libboost_math_tr1.so.1.42.0
-rwxr-xr-x 1 root root   379269 Jan  8 10:53 libboost_math_tr1.so.1.42.0
-rw-r--r-- 1 root root  2316806 Jan  8 11:02 libboost_math_tr1f.a
lrwxrwxrwx 1 root root       28 Jan  8 10:53 libboost_math_tr1f.so -&gt;
libboost_math_tr1f.so.1.42.0
-rwxr-xr-x 1 root root   399838 Jan  8 10:53 libboost_math_tr1f.so.1.42.0
-rw-r--r-- 1 root root  2251708 Jan  8 11:02 libboost_math_tr1l.a
lrwxrwxrwx 1 root root       28 Jan  8 10:54 libboost_math_tr1l.so -&gt;
libboost_math_tr1l.so.1.42.0
-rwxr-xr-x 1 root root   375525 Jan  8 10:54 libboost_math_tr1l.so.1.42.0
-rw-r--r-- 1 root root   133276 Jan  8 11:05 libboost_prg_exec_monitor.a
lrwxrwxrwx 1 root root       35 Jan  8 10:56 libboost_prg_exec_monitor.so -&gt;
libboost_prg_exec_monitor.so.1.42.0-rwxr-xr-x 1 root root    88930 Jan  8
10:56 libboost_prg_exec_monitor.so.1.42.0
-rw-r--r-- 1 root root   985992 Jan  8 11:03 libboost_program_options.a
lrwxrwxrwx 1 root root       34 Jan  8 10:55 libboost_program_options.so -&gt;
libboost_program_options.so.1.42.0
-rwxr-xr-x 1 root root   470951 Jan  8 10:55
libboost_program_options.so.1.42.0
-rw-r--r-- 1 root root   831110 Jan  8 11:04 libboost_python.a
lrwxrwxrwx 1 root root       25 Jan  8 10:55 libboost_python.so -&gt;
libboost_python.so.1.42.0
-rwxr-xr-x 1 root root   497041 Jan  8 10:55 libboost_python.so.1.42.0
-rw-r--r-- 1 root root  2550956 Jan  8 11:01 libboost_regex.a
lrwxrwxrwx 1 root root       24 Jan  8 10:58 libboost_regex.so -&gt;
libboost_regex.so.1.42.0
-rwxr-xr-x 1 root root  1140439 Jan  8 10:58 libboost_regex.so.1.42.0
-rw-r--r-- 1 root root  1338848 Jan  8 11:04 libboost_serialization.a
lrwxrwxrwx 1 root root       32 Jan  8 10:56 libboost_serialization.so -&gt;
libboost_serialization.so.1.42.0
-rwxr-xr-x 1 root root   686156 Jan  8 10:56
libboost_serialization.so.1.42.0
-rw-r--r-- 1 root root   169112 Jan  8 11:05 libboost_signals.a
lrwxrwxrwx 1 root root       26 Jan  8 10:56 libboost_signals.so -&gt;
libboost_signals.so.1.42.0
-rwxr-xr-x 1 root root   104775 Jan  8 10:56 libboost_signals.so.1.42.0
-rw-r--r-- 1 root root    28524 Jan  8 11:00 libboost_system.a
lrwxrwxrwx 1 root root       25 Jan  8 10:58 libboost_system.so -&gt;
libboost_system.so.1.42.0
-rwxr-xr-x 1 root root    21323 Jan  8 10:58 libboost_system.so.1.42.0
-rw-r--r-- 1 root root  2095778 Jan  8 10:59 libboost_test_exec_monitor.a
-rw-r--r-- 1 root root   197012 Jan  8 11:05 libboost_thread.a
lrwxrwxrwx 1 root root       25 Jan  8 10:57 libboost_thread.so -&gt;
libboost_thread.so.1.42.0
-rwxr-xr-x 1 root root   131951 Jan  8 10:57 libboost_thread.so.1.42.0
-rw-r--r-- 1 root root  2323058 Jan  8 11:05 libboost_unit_test_framework.a
lrwxrwxrwx 1 root root       38 Jan  8 10:57 libboost_unit_test_framework.so
-&gt; libboost_unit_test_framework.so.1.42.0
-rwxr-xr-x 1 root root  1150289 Jan  8 10:57
libboost_unit_test_framework.so.1.42.0
-rw-r--r-- 1 root root  3414734 Jan  8 11:06 libboost_wave.a
lrwxrwxrwx 1 root root       23 Jan  8 10:58 libboost_wave.so -&gt;
libboost_wave.so.1.42.0
-rwxr-xr-x 1 root root  1783632 Jan  8 10:58 libboost_wave.so.1.42.0
-rw-r--r-- 1 root root   886770 Jan  8 11:04 libboost_wserialization.a
lrwxrwxrwx 1 root root       33 Jan  8 10:56 libboost_wserialization.so -&gt;
libboost_wserialization.so.1.42.0
-rwxr-xr-x 1 root root   492824 Jan  8 10:56
libboost_wserialization.so.1.42.0
*lrwxrwxrwx 1 root root       18 Jan  8 11:11 libicudata.so -&gt;
libicudata.so.42.1
lrwxrwxrwx 1 root root       18 Jan  8 11:11 libicudata.so.42 -&gt;
libicudata.so.42.1
-rw-r--r-- 1 root root 16010036 Jan  8 11:11 libicudata.so.42.1
lrwxrwxrwx 1 root root       18 Jan  8 11:11 libicui18n.so -&gt;
libicui18n.so.42.1
lrwxrwxrwx 1 root root       18 Jan  8 11:11 libicui18n.so.42 -&gt;
libicui18n.so.42.1
-rwxr-xr-x 1 root root  2209864 Jan  8 11:11 libicui18n.so.42.1
lrwxrwxrwx 1 root root       16 Jan  8 11:11 libicuio.so -&gt; libicuio.so.42.1
lrwxrwxrwx 1 root root       16 Jan  8 11:11 libicuio.so.42 -&gt;
libicuio.so.42.1
-rwxr-xr-x 1 root root    62206 Jan  8 11:11 libicuio.so.42.1
lrwxrwxrwx 1 root root       16 Jan  8 11:11 libicule.so -&gt; libicule.so.42.1
lrwxrwxrwx 1 root root       16 Jan  8 11:11 libicule.so.42 -&gt;
libicule.so.42.1
-rwxr-xr-x 1 root root   298042 Jan  8 11:11 libicule.so.42.1
lrwxrwxrwx 1 root root       16 Jan  8 11:11 libiculx.so -&gt; libiculx.so.42.1
lrwxrwxrwx 1 root root       16 Jan  8 11:11 libiculx.so.42 -&gt;
libiculx.so.42.1
-rwxr-xr-x 1 root root    70910 Jan  8 11:11 libiculx.so.42.1
lrwxrwxrwx 1 root root       16 Jan  8 11:11 libicutu.so -&gt; libicutu.so.42.1
lrwxrwxrwx 1 root root       16 Jan  8 11:11 libicutu.so.42 -&gt;
libicutu.so.42.1
-rwxr-xr-x 1 root root   159020 Jan  8 11:11 libicutu.so.42.1
lrwxrwxrwx 1 root root       16 Jan  8 11:11 libicuuc.so -&gt; libicuuc.so.42.1
lrwxrwxrwx 1 root root       16 Jan  8 11:11 libicuuc.so.42 -&gt;
libicuuc.so.42.1
-rwxr-xr-x 1 root root  1608359 Jan  8 11:11 libicuuc.so.42.1*

Since ICU is obviously not located at /usr/local/, do I have to specifically
put it as a command line option when I run &quot;python scons/scons.py&quot;?


This is what I get for &quot;ldd /usr/local/lib64/libmapnik.so.0.8&quot;:


ldd /usr/local/lib64/libmapnik.so.0.8
        libfreetype.so.6 =&gt; /usr/lib64/libfreetype.so.6 (0x00002b5316421000)
        libltdl.so.3 =&gt; /usr/lib64/libltdl.so.3 (0x00002b531659c000)
        libpng.so.3 =&gt; /usr/lib64/libpng.so.3 (0x00002b53166a3000)
        libtiff.so.3 =&gt; /usr/lib64/libtiff.so.3 (0x00002b53167e0000)
        libz.so.1 =&gt; /lib64/libz.so.1 (0x00002b531693a000)
        libjpeg.so.62 =&gt; /usr/lib64/libjpeg.so.62 (0x00002b5316a4e000)
        libproj.so.0 =&gt; /usr/lib64/libproj.so.0 (0x00002b5316b70000)
        libicuuc.so.34 =&gt; /usr/lib64/libicuuc.so.34 (0x00002b5316cb2000)
        libboost_filesystem.so.1.42.0 =&gt;
/usr/local/lib/libboost_filesystem.so.1.42.0 (0x00002b5316ed4000)
        libboost_regex.so.1.42.0 =&gt; /usr/local/lib/libboost_regex.so.1.42.0
(0x00002b5316fea000)
        libxml2.so.2 =&gt; /usr/lib64/libxml2.so.2 (0x00002b53171d3000)
        libboost_thread.so.1.42.0 =&gt;
/usr/local/lib/libboost_thread.so.1.42.0 (0x00002b5317417000)
        libstdc++.so.6 =&gt; /usr/lib64/libstdc++.so.6 (0x00002b531752f000)
        libm.so.6 =&gt; /lib64/libm.so.6 (0x00002b531772d000)
        libgcc_s.so.1 =&gt; /lib64/libgcc_s.so.1 (0x00002b5317882000)
        libc.so.6 =&gt; /lib64/libc.so.6 (0x00002b5317990000)
        libdl.so.2 =&gt; /lib64/libdl.so.2 (0x00002b5317bd0000)
        libicudata.so.34 =&gt; /usr/lib64/libicudata.so.34 (0x00002b5317cd4000)
        libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x00002b5318643000)
        libboost_system.so.1.42.0 =&gt;
/usr/local/lib/libboost_system.so.1.42.0 (0x00002b531875c000)
        librt.so.1 =&gt; /lib64/librt.so.1 (0x00002b531885f000)
        /lib64/ld-linux-x86-64.so.2 (0x0000555555554000)


Thanks for your help!

Dom

On Mon, Jan 11, 2010 at 2:56 PM, Artem Pavlenko &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">artem at mapnik.org</A>&gt; wrote:

&gt;<i> Hi Dom,
</I>&gt;<i>
</I>&gt;<i> It can be you're loading wrong (old) version of icu at runtime. Did
</I>&gt;<i> you install icu 4.x into /usr/local ?
</I>&gt;<i>
</I>&gt;<i> Could you post result of :
</I>&gt;<i>
</I>&gt;<i> ldd /usr/local/lib64/libmapnik.so.0.8
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Artem
</I>&gt;<i>
</I>&gt;<i> 2010/1/11 Dom Lehr &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">dominic.lehr at googlemail.com</A>&gt;:
</I>&gt;<i> &gt; Hey guys,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; since my installation finally went thru, I was about to test it.
</I>&gt;<i> &gt; Unfortunately, I get &quot;Boost undefined symbols&quot;:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; dbsosm:/usr/local/bin # python
</I>&gt;<i> &gt; Python 2.4.2 (#1, Dec  2 2008, 00:09:07)
</I>&gt;<i> &gt; [GCC 4.1.2 20070115 (SUSE Linux)] on linux2
</I>&gt;<i> &gt; Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
</I>&gt;<i> &gt;&gt;&gt;&gt; import mapnik
</I>&gt;<i> &gt; Traceback (most recent call last):
</I>&gt;<i> &gt;   File &quot;&lt;stdin&gt;&quot;, line 1, in ?
</I>&gt;<i> &gt;   File &quot;/usr/lib64/python2.4/site-packages/mapnik/__init__.py&quot;, line 53,
</I>&gt;<i> in
</I>&gt;<i> &gt; ?
</I>&gt;<i> &gt;     from _mapnik import *
</I>&gt;<i> &gt; ImportError: /usr/local/lib64/libmapnik.so.0.8: undefined symbol:
</I>&gt;<i> &gt; _ZNK7icu_4_213UnicodeString9doCompareEiiPKtii
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  I was lookin at the &quot;Installation Troubleshooting&quot; Page
</I>&gt;<i> &gt; (<A HREF="http://trac.mapnik.org/wiki/InstallationTroubleshooting">http://trac.mapnik.org/wiki/InstallationTroubleshooting</A>) and found a
</I>&gt;<i> &gt; solution for &quot;Boost undefined symbols&quot;, but... I am using boost version
</I>&gt;<i> &gt; 1.42, which I compiled from source. According to this &quot;solution&quot; it
</I>&gt;<i> should
</I>&gt;<i> &gt; be fixed by now.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I am running Suse Linux Enterprise Server 10, SP 2, 64 bit. Mapnik 0.7.0
</I>&gt;<i> &gt; Release.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I appreciate your help!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Dom
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20100111/c32f7979/attachment.html">https://lists.berlios.de/pipermail/mapnik-users/attachments/20100111/c32f7979/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002788.html">[Mapnik-users] Test fails
</A></li>
	<LI>Next message: <A HREF="002790.html">[Mapnik-users] Test fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2789">[ date ]</a>
              <a href="thread.html#2789">[ thread ]</a>
              <a href="subject.html#2789">[ subject ]</a>
              <a href="author.html#2789">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
