<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] some trouble with rundemo.cpp under VS
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2011-April/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20some%20trouble%20with%20rundemo.cpp%20under%20VS&In-Reply-To=%3C4D9A6794.2080001%40cast.uark.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004131.html">
   <LINK REL="Next"  HREF="004133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] some trouble with rundemo.cpp under VS</H1>
    <B>William Johnston</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20some%20trouble%20with%20rundemo.cpp%20under%20VS&In-Reply-To=%3C4D9A6794.2080001%40cast.uark.edu%3E"
       TITLE="[Mapnik-users] some trouble with rundemo.cpp under VS">wgj at cast.uark.edu
       </A><BR>
    <I>Tue Apr  5 02:51:32 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004131.html">[Mapnik-users] mapnik2 and cairo surface
</A></li>
        <LI>Next message: <A HREF="004133.html">[Mapnik-users] some trouble with rundemo.cpp under VS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4132">[ date ]</a>
              <a href="thread.html#4132">[ thread ]</a>
              <a href="subject.html#4132">[ subject ]</a>
              <a href="author.html#4132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm using VS 2010 and Mapnik 0.7.1 and compiling to 32 bits.

When I run rundemo.exe I get this:

Z:\SoftwareDevelopment\c++\Mapnik\Release&gt;a 
Z:\SoftwareDevelopment\c++\Mapnik\ma
pnik-0.7.1\lib\mapnik
running demo ...
looking for 'shape.input' plugin in... 
Z:\SoftwareDevelopment\c++\Mapnik\mapnik
-0.7.1\lib\mapnik/input/
looking for DejaVuSans font in... 
Z:\SoftwareDevelopment\c++\Mapnik\mapnik-0.7.
1\lib\mapnik/fonts/DejaVuSans.ttf
### Configuration error: Failed to parse filter expression:
rundemo Z:\SoftwareDevelopment
Parsing aborted at 'r'

It's trying to parse the command line. If I change rundemo.exe to a.exe 
and rerun it I get:

Z:\SoftwareDevelopment\c++\Mapnik\Release&gt;a 
Z:\SoftwareDevelopment\c++\Mapnik\ma
pnik-0.7.1\lib\mapnik
running demo ...
looking for 'shape.input' plugin in... 
Z:\SoftwareDevelopment\c++\Mapnik\mapnik
-0.7.1\lib\mapnik/input/
looking for DejaVuSans font in... 
Z:\SoftwareDevelopment\c++\Mapnik\mapnik-0.7.
1\lib\mapnik/fonts/DejaVuSans.ttf
here### Configuration error: Failed to parse filter expression:
a Z:\SoftwareDevelopment\c++\M
Parsing aborted at 'a'

The error is caused by this line:
provpoly_rule_on.set_filter(&quot;[NAME_EN] = 'Ontario'&quot;);

My understanding is that it is supposed to be parsing &quot;[NAME_EN] = 
'Ontario'&quot; rather than the run command.

If I change the line to be these two lines:

std::string test(&quot;[NAME_EN] = 'Ontario'&quot;);
provpoly_rule_on.set_filter(create_filter(test));

I get:
Z:\SoftwareDevelopment\c++\Mapnik\Release&gt;Mapnik C:\mapnik-0.7.1\lib\mapnik
running demo ...
looking for 'shape.input' plugin in... 
Z:\SoftwareDevelopment\c++\Mapnik\mapnik
-0.7.1\lib\mapnik/input/
looking for DejaVuSans font in... 
C:\mapnik-0.7.1\lib\mapnik/fonts/DejaVuSans.t
tf
### Configuration error: Failed to parse filter expression:
&#9578;&#238;n

Even weirder.

The peer line in rundemo.py works fine.

This error make no logical sense. My current thinking is that there is 
something wrong with mapnik.dll
or mapnik.lib.

Does anyone have any experience with this?



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004131.html">[Mapnik-users] mapnik2 and cairo surface
</A></li>
	<LI>Next message: <A HREF="004133.html">[Mapnik-users] some trouble with rundemo.cpp under VS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4132">[ date ]</a>
              <a href="thread.html#4132">[ thread ]</a>
              <a href="subject.html#4132">[ subject ]</a>
              <a href="author.html#4132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
