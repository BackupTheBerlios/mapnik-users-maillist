<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] imitating openstreetmap.org :)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20imitating%20openstreetmap.org%20%3A%29&In-Reply-To=%3CB1B67290-8010-41EA-9170-5FF30712D09B%40hailmail.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003824.html">
   <LINK REL="Next"  HREF="003820.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] imitating openstreetmap.org :)</H1>
    <B>Dane Springmeyer</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20imitating%20openstreetmap.org%20%3A%29&In-Reply-To=%3CB1B67290-8010-41EA-9170-5FF30712D09B%40hailmail.net%3E"
       TITLE="[Mapnik-users] imitating openstreetmap.org :)">blake at hailmail.net
       </A><BR>
    <I>Sat Dec 18 18:52:43 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003824.html">[Mapnik-users] imitating openstreetmap.org :)
</A></li>
        <LI>Next message: <A HREF="003820.html">[Mapnik-users] Mapnik Install Proj4 error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3842">[ date ]</a>
              <a href="thread.html#3842">[ thread ]</a>
              <a href="subject.html#3842">[ subject ]</a>
              <a href="author.html#3842">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>  
</I>&gt;<i> Re: a doc/wiki/etc explaining the OSM map style... well, the osm.xml is enormous and complicated. I think the best way to learn how it works is not study it, but the pieces that make it up -  so topics like Mapnik Layers, PostGIS datasource parameters, Zoom-dependent rules (min/max scale denominators), and how styles are attached to layers. The kind of pieces of info that should be linked from here: <A HREF="http://trac.mapnik.org/wiki/LearningMapnik">http://trac.mapnik.org/wiki/LearningMapnik</A> if they are not already.
</I>&gt;<i> 
</I>&gt;<i> Just to be clear, I'm probing the osm.xml file more than studying it -&gt; modify-render-learn-modify-render-learn, etc
</I>&gt;<i> 
</I>&gt;<i> I'm currently having problems where TextSymbolizers are getting clipped at tile boundaries (label shows up on one side but not the other) if you have any ideas.  I've tried playing with TS min_distance, spacing, avoid_edges, etc but no luck yet
</I>
Try buffer_size=128 in your &lt;Map ... &gt; element.

&gt;<i> 
</I>&gt;<i> That said, for a first cut to understand how the elements of the osm.xml work: like layer ordering, which styles do text, casings, or features, and how the heck to find a rule that renders something... the most useful thing for me has been the mapnik viewer: <A HREF="http://trac.mapnik.org/wiki/MapnikViewer">http://trac.mapnik.org/wiki/MapnikViewer</A>
</I>&gt;<i> 
</I>&gt;<i> It is not terribly easy to build, but in trunk I've been working on making it slightly easier.
</I>&gt;<i> 
</I>&gt;<i> Let me know what platform you are on and I can advise a bit more on how to get it running.
</I>&gt;<i> 
</I>&gt;<i> This looks immensely useful for the graphic design... I'm generating on OS X Snow Leopard.
</I>&gt;<i> 
</I>
Okay, well first step would be to install the Mac QT binaries - either the SDK or the libraries.

This should give you the `qmake` program.

Then go into the viewer directory and run qmake

$ cd demo/viewer/
$ qmake

This should create a Makefile so you can then run make

If it did not generate a makefile then do this:

$ qmake -spec macx-g++

Now, in Mapnik trunk the plugins/fonts directory for viewer are configurable with a 'viewer.ini' file but in Mapnik 0.7.x they are not.

So if you are running 0.7.x you need to open up demo/viewer/main.cpp and edit line 42 likely to point to '/usr/local'.

Finally run make:

$ make

If that works then you can run the viewer.app like:

$ ./viewer.app/Contents/MacOS/viewer


&gt;<i> Thanks again!
</I>&gt;<i> 
</I>&gt;<i> Kevin
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mapnik-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20101218/72bf6c59/attachment.html">https://lists.berlios.de/pipermail/mapnik-users/attachments/20101218/72bf6c59/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003824.html">[Mapnik-users] imitating openstreetmap.org :)
</A></li>
	<LI>Next message: <A HREF="003820.html">[Mapnik-users] Mapnik Install Proj4 error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3842">[ date ]</a>
              <a href="thread.html#3842">[ thread ]</a>
              <a href="subject.html#3842">[ subject ]</a>
              <a href="author.html#3842">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
