<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] extract names from roads within polygon
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20extract%20names%20from%20roads%20within%20polygon&In-Reply-To=%3C20101217055502.7e96a35e%40danlyke-laptop%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003825.html">
   <LINK REL="Next"  HREF="003828.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] extract names from roads within polygon</H1>
    <B>Dan Lyke</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20extract%20names%20from%20roads%20within%20polygon&In-Reply-To=%3C20101217055502.7e96a35e%40danlyke-laptop%3E"
       TITLE="[Mapnik-users] extract names from roads within polygon">danlyke at flutterby.com
       </A><BR>
    <I>Fri Dec 17 14:55:02 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003825.html">[Mapnik-users] extract names from roads within polygon
</A></li>
        <LI>Next message: <A HREF="003828.html">[Mapnik-users] extract names from roads within polygon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3826">[ date ]</a>
              <a href="thread.html#3826">[ thread ]</a>
              <a href="subject.html#3826">[ subject ]</a>
              <a href="author.html#3826">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 17 Dec 2010 11:19:03 +0000
Philip Stubbs &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">philip at stuphi.co.uk</A>&gt; wrote:
&gt;<i> area of the shapefiles. What I would like to to is extract a list of
</I>&gt;<i> names from all the roads that come from the PostGIS database that are
</I>&gt;<i> within the shapefile polygon. Is that possible?
</I>
So presumably &quot;shp2pgsql&quot; will give you the right way to convert your
shapefile polygon into a PostGIS poly, at which point it's just:

  SELECT names FROM roads WHERE Within(roads.the_geom, yourpolygeom);

And your road centers would be something like:

  SELECT names, Centroid(the_geom) FROM roads
     WHERE Within(the_geom, yourpolygeom);

What I'm less clear on (before 6AM local time, preparing to drive most
of the day...) is how to get from the shapefile to yourpolygeom, but you
could easily just use shp2pgsql to load that shapefile into a 1 record
table.

Dan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003825.html">[Mapnik-users] extract names from roads within polygon
</A></li>
	<LI>Next message: <A HREF="003828.html">[Mapnik-users] extract names from roads within polygon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3826">[ date ]</a>
              <a href="thread.html#3826">[ thread ]</a>
              <a href="subject.html#3826">[ subject ]</a>
              <a href="author.html#3826">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
