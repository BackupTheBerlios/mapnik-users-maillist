<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Cookies or CGI params from BaseWMSFactory subclass	in an ogcserver
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Cookies%20or%20CGI%20params%20from%20BaseWMSFactory%20subclass%0A%09in%20an%20ogcserver&In-Reply-To=%3C20101222153439.324087a3%40danlyke-laptop%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003857.html">
   <LINK REL="Next"  HREF="003862.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Cookies or CGI params from BaseWMSFactory subclass	in an ogcserver</H1>
    <B>Dan Lyke</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Cookies%20or%20CGI%20params%20from%20BaseWMSFactory%20subclass%0A%09in%20an%20ogcserver&In-Reply-To=%3C20101222153439.324087a3%40danlyke-laptop%3E"
       TITLE="[Mapnik-users] Cookies or CGI params from BaseWMSFactory subclass	in an ogcserver">danlyke at flutterby.com
       </A><BR>
    <I>Thu Dec 23 00:34:39 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003857.html">[Mapnik-users] OGCServer, OpenLayers, and tearing my hair out.
</A></li>
        <LI>Next message: <A HREF="003862.html">[Mapnik-users] Cookies or CGI params from BaseWMSFactory	subclass in an ogcserver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3854">[ date ]</a>
              <a href="thread.html#3854">[ thread ]</a>
              <a href="subject.html#3854">[ subject ]</a>
              <a href="author.html#3854">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>So assuming I can get my other issue with projections or whatever it is
in my WMSFactory versus code saving to render_to_file, the next thing I
want is to serve up more complex queries.

For instance, I've been tossing stuff into PostGIS and playing with
queries like:

BUFFERED_TABLE = &quot;(SELECT DISTINCT(par_parcels.the_geom) FROM
   par_parcels , hyd_usgsstrm WHERE ST_DWithin(par_parcels.the_geom,
   hyd_usgsstrm.the_geom, 1)) AS the_geom&quot;

lyr.datasource = mapnik.PostGIS(
        dbname='sonoma',
        table=BUFFERED_TABLE)

to show me all parcels that lie within 1 meter of a stream (and, yes, I
do need to think a little bit about my query efficiency, and that space
after &quot;FROM par_parcels&quot; is necessary because Mapnik is doing some sort
of regular expression matching that doesn't do well with multiple
tables).

I'd like to pass elements of that query through from the parent web
page. So: How do I get to the CGI query string, or, if I have to go
that way, cookie information, from the BaseWMSFactory subclass? Do I
need to go straight to the environment and decode it myself?

Thanks!

Dan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003857.html">[Mapnik-users] OGCServer, OpenLayers, and tearing my hair out.
</A></li>
	<LI>Next message: <A HREF="003862.html">[Mapnik-users] Cookies or CGI params from BaseWMSFactory	subclass in an ogcserver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3854">[ date ]</a>
              <a href="thread.html#3854">[ thread ]</a>
              <a href="subject.html#3854">[ subject ]</a>
              <a href="author.html#3854">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
