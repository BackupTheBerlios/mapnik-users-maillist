<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Yak shaving: mapnik.Image.open,	or building mapnik from source?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Yak%20shaving%3A%20mapnik.Image.open%2C%0A%09or%20building%20mapnik%20from%20source%3F&In-Reply-To=%3C223DEFB7-46C1-41CE-8D80-72218F6B27A1%40stamen.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001549.html">
   <LINK REL="Next"  HREF="001542.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Yak shaving: mapnik.Image.open,	or building mapnik from source?</H1>
    <B>Michal Migurski</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Yak%20shaving%3A%20mapnik.Image.open%2C%0A%09or%20building%20mapnik%20from%20source%3F&In-Reply-To=%3C223DEFB7-46C1-41CE-8D80-72218F6B27A1%40stamen.com%3E"
       TITLE="[Mapnik-users] Yak shaving: mapnik.Image.open,	or building mapnik from source?">mike at stamen.com
       </A><BR>
    <I>Mon Jan 19 18:39:43 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001549.html">[Mapnik-users] Query_map_point
</A></li>
        <LI>Next message: <A HREF="001542.html">[Mapnik-users] Yak shaving: mapnik.Image.open,	or building mapnik from source?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1540">[ date ]</a>
              <a href="thread.html#1540">[ thread ]</a>
              <a href="subject.html#1540">[ subject ]</a>
              <a href="author.html#1540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm running into a pair of problems with mapnik on Debian.

I have been using the packaged libmapnik, but it lacks the  
mapnik.Image.open function that's present in trunk and available on  
another system I have access to, with a trunk build done by somebody  
else. To get a version with that function, I've been trying to follow  
the build instructions here:

	<A HREF="http://wiki.openstreetmap.org/index.php/Mapnik/Installation">http://wiki.openstreetmap.org/index.php/Mapnik/Installation</A>

I've done this twice, each time with varying results. The first time,  
I got mapnik to build and install all the way through, but when I  
attempted to import the module in python, I would get this error:

	undefined symbol:  
_ZN5boost6python9converter8registry6insertEPFPvP7_objectEPFvS5_PNS1_30rvalue_from_python_stage1_dataEENS0_9type_infoEPFPK11_typeobjectvE

According to a fairly old message from mapnik-devel, I should simply  
try to rebuild:

	<A HREF="http://lists.berlios.de/pipermail/mapnik-devel/2006-December/000081.html">http://lists.berlios.de/pipermail/mapnik-devel/2006-December/000081.html</A>

The problem is that the contents of /usr/lib are different from what's  
listed in the symlink step on the OSM instructions, so I've been sort  
of guessing what to link to what. The first time through, I installed  
a bunch of newer libboost packages (1.35, *-dev) but for some reason  
those seemed to conflict with libbboost_python, preventing its  
installation via apt and even removing it when it was there.

The second time through, I stuck to the unnumbered ones, e.g. apt-get  
install libboost-python-dev which I think are 1.33.

Now I get a build error and no successful install

	src/datasource_cache.cpp: In static member function &#8216;static void  
mapnik::datasource_cache::register_datasources(const std::string&amp;)&#8217;:
	src/datasource_cache.cpp:128: error: invalid use of &#8216;class  
boost::filesystem::path&#8217;

I'd rather not be messing with all this; the reason I'm trying to  
build it is specifically to be able to populate a mapnik.Image object  
with image data prior to the render() step, but the packaged mapnik  
seemingly lacks any way to do this. Is there a way other than open() ?  
Some hidden fromstring() method, possibility of peeling back the  
layers, or way of passing something other than a mapnik.Image to  
mapnik.render()?

What I'm trying to do is a variation of this:

	<A HREF="http://trac.mapnik.org/ticket/184">http://trac.mapnik.org/ticket/184</A>

Thanks,
-mike.

----------------------------------------------------------------
michal migurski- <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">mike at stamen.com</A>
                  415.558.1610


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001549.html">[Mapnik-users] Query_map_point
</A></li>
	<LI>Next message: <A HREF="001542.html">[Mapnik-users] Yak shaving: mapnik.Image.open,	or building mapnik from source?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1540">[ date ]</a>
              <a href="thread.html#1540">[ thread ]</a>
              <a href="subject.html#1540">[ subject ]</a>
              <a href="author.html#1540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
