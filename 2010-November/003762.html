<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] PointSymbolizer placement for polygons
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20PointSymbolizer%20placement%20for%20polygons&In-Reply-To=%3C2F172A82-ECBF-4939-960B-65E1EAACAF17%40dbsgeo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003755.html">
   <LINK REL="Next"  HREF="003763.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] PointSymbolizer placement for polygons</H1>
    <B>Dane Springmeyer</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20PointSymbolizer%20placement%20for%20polygons&In-Reply-To=%3C2F172A82-ECBF-4939-960B-65E1EAACAF17%40dbsgeo.com%3E"
       TITLE="[Mapnik-users] PointSymbolizer placement for polygons">dane at dbsgeo.com
       </A><BR>
    <I>Wed Nov 24 21:33:48 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003755.html">[Mapnik-users] PointSymbolizer placement for polygons
</A></li>
        <LI>Next message: <A HREF="003763.html">[Mapnik-users] PointSymbolizer placement for polygons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3762">[ date ]</a>
              <a href="thread.html#3762">[ thread ]</a>
              <a href="subject.html#3762">[ subject ]</a>
              <a href="author.html#3762">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I commented on the ticket with my assessment of the problem, basically  
that only lines are being created as the tag matching for polygons is  
not robust enough in the osm plugin. Look forward to others feedback  
on how to improve this.

Dane

--- \o/ ---
Sent from my phone

On Nov 23, 2010, at 8:10 AM, yvecai &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">yvecai at gmail.com</A>&gt; wrote:

&gt;<i> I have opened a ticket at <A HREF="http://trac.mapnik.org/ticket/673.">http://trac.mapnik.org/ticket/673.</A>
</I>&gt;<i> The .osm .xml and .py file to reproduce the case are attached to the  
</I>&gt;<i> ticket.
</I>&gt;<i>
</I>&gt;<i> Yves
</I>&gt;<i>
</I>&gt;<i> On 22. 11. 10 03:50, Dane Springmeyer wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sounds like a bug in the osm plugin. Mapnik's PointSymbolizer will  
</I>&gt;&gt;<i> label the mid-point of the line if the geometry is not a proper  
</I>&gt;&gt;<i> polygon, which is what it appears is happening.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Could you double check that osm data is valid, and if so, then post  
</I>&gt;&gt;<i> a ticket to trac.mapnik.org?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Also, confirm which mapnik version you are using?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Dane
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Nov 20, 2010, at 12:51 AM, yvecai wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> If I understood what I read on the mailing-list archive, a  
</I>&gt;&gt;&gt;<i> PointSymbloizer should be render at the polygon centroid, am I  
</I>&gt;&gt;&gt;<i> wrong ?
</I>&gt;&gt;&gt;<i> However, with an osm datasource like below, the PointSymbolizer is  
</I>&gt;&gt;&gt;<i> rendered on the middle of the right edge.
</I>&gt;&gt;&gt;<i> If I close the polygon, it's on the right upper edge.
</I>&gt;&gt;&gt;<i> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</I>&gt;&gt;&gt;<i>     &lt;osm version=&quot;0.6&quot; generator=&quot;legend2osm&quot;&gt;
</I>&gt;&gt;&gt;<i>     &lt;bounds minlat=&quot;-1&quot; minlon=&quot;-1&quot; maxlat=&quot;1&quot; maxlon=&quot;1&quot;/&gt;
</I>&gt;&gt;&gt;<i>   &lt;node id=&quot;-10&quot; lat=&quot;-18.75&quot; lon=&quot;-37.5&quot; visible=&quot;true&quot;&gt;
</I>&gt;&gt;&gt;<i>   &lt;/node&gt;
</I>&gt;&gt;&gt;<i>   &lt;node id=&quot;-11&quot; lat=&quot;-18.75&quot; lon=&quot;37.5&quot; visible=&quot;true&quot;&gt;
</I>&gt;&gt;&gt;<i>   &lt;/node&gt;
</I>&gt;&gt;&gt;<i>   &lt;node id=&quot;-12&quot; lat=&quot;18.75&quot; lon=&quot;37.5&quot; visible=&quot;true&quot;&gt;
</I>&gt;&gt;&gt;<i>   &lt;/node&gt;
</I>&gt;&gt;&gt;<i>   &lt;node id=&quot;-13&quot; lat=&quot;18.75&quot; lon=&quot;-37.5&quot; visible=&quot;true&quot;&gt;
</I>&gt;&gt;&gt;<i>   &lt;/node&gt;
</I>&gt;&gt;&gt;<i>   &lt;way id=&quot;-14&quot; visible=&quot;true&quot;&gt;
</I>&gt;&gt;&gt;<i>         &lt;nd ref=&quot;-10&quot; /&gt;
</I>&gt;&gt;&gt;<i>         &lt;nd ref=&quot;-11&quot; /&gt;
</I>&gt;&gt;&gt;<i>         &lt;nd ref=&quot;-12&quot; /&gt;
</I>&gt;&gt;&gt;<i>         &lt;nd ref=&quot;-13&quot; /&gt;
</I>&gt;&gt;&gt;<i>     &lt;tag k=&quot;amenity&quot; v=&quot;place_of_worship&quot;/&gt;
</I>&gt;&gt;&gt;<i>     &lt;tag k=&quot;way_area&quot; v=&quot;1&quot;/&gt;
</I>&gt;&gt;&gt;<i>   &lt;/way&gt;
</I>&gt;&gt;&gt;<i> &lt;/osm&gt;
</I>&gt;&gt;&gt;<i> Yves
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Mapnik-users mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20101124/86aa11b1/attachment.html">https://lists.berlios.de/pipermail/mapnik-users/attachments/20101124/86aa11b1/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003755.html">[Mapnik-users] PointSymbolizer placement for polygons
</A></li>
	<LI>Next message: <A HREF="003763.html">[Mapnik-users] PointSymbolizer placement for polygons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3762">[ date ]</a>
              <a href="thread.html#3762">[ thread ]</a>
              <a href="subject.html#3762">[ subject ]</a>
              <a href="author.html#3762">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
