<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] cascadenik - AttributeError: _ElementInterface	instance has no attribute 'write'
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20cascadenik%20-%20AttributeError%3A%20_ElementInterface%0A%09instance%20has%20no%20attribute%20%27write%27&In-Reply-To=%3C26F48B56-CDAE-4EA0-9627-53B66549D0D6%40dbsgeo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003714.html">
   <LINK REL="Next"  HREF="003716.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] cascadenik - AttributeError: _ElementInterface	instance has no attribute 'write'</H1>
    <B>Dane Springmeyer</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20cascadenik%20-%20AttributeError%3A%20_ElementInterface%0A%09instance%20has%20no%20attribute%20%27write%27&In-Reply-To=%3C26F48B56-CDAE-4EA0-9627-53B66549D0D6%40dbsgeo.com%3E"
       TITLE="[Mapnik-users] cascadenik - AttributeError: _ElementInterface	instance has no attribute 'write'">dane at dbsgeo.com
       </A><BR>
    <I>Wed Nov  3 00:21:09 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003714.html">[Mapnik-users] cascadenik - AttributeError: _ElementInterface	instance has no attribute 'write'
</A></li>
        <LI>Next message: <A HREF="003716.html">[Mapnik-users] cascadenik - AttributeError: _ElementInterface	instance has no attribute 'write'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3715">[ date ]</a>
              <a href="thread.html#3715">[ thread ]</a>
              <a href="subject.html#3715">[ subject ]</a>
              <a href="author.html#3715">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Christoph,

Yes, sorry this is a bug, fixed in the Cascadenik development version (but I don't recommed using the dev version yet).

Basically it looks like you are using the latest release via pypi and in that version there are several imports at the top of cascadenik/compile.py which attempt to allow fallbacks to different xml parsers that implement an etree interface.

lxml (python bindings to libxml2) is preferred and it turns out its interface is slightly different and while it has doc.write() others may not.

So, the easiest way to fix this issues is to install lxml. On ubuntu I think that is:

sudo apt-get install python-lxml

Dane


On Nov 2, 2010, at 2:10 PM, Christoph Lingg | komoot wrote:

&gt;<i> Hi list,
</I>&gt;<i> 
</I>&gt;<i> I recently installed cascadenik on a new server and encountered an error while compiling my mml file. First I thought this might be due a wrong mml file, but even the example given by cascadenik doesn't work:
</I>&gt;<i> 
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">christoph at server</A>:~/mapnik-Cascadenik-796acf2$ cascadenik-compile.py example.mml &gt; test.xml
</I>&gt;&gt;<i> Traceback (most recent call last):
</I>&gt;&gt;<i>   File &quot;/usr/local/bin/cascadenik-compile.py&quot;, line 114, in &lt;module&gt;
</I>&gt;&gt;<i>     sys.exit(main(layersfile, **options.__dict__))
</I>&gt;&gt;<i>   File &quot;/usr/local/bin/cascadenik-compile.py&quot;, line 46, in main
</I>&gt;&gt;<i>     doc.write(f)
</I>&gt;&gt;<i> AttributeError: _ElementInterface instance has no attribute 'write'
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I am quite lost and would be very happy if somebody knows more about this issue!
</I>&gt;<i> 
</I>&gt;<i> Thanks a lot in advance!
</I>&gt;<i> Christoph
</I>&gt;<i> 
</I>&gt;<i> PS:
</I>&gt;<i> I am running Ubuntu 10.10 and the content of test.xml looks like:
</I>&gt;&gt;<i> cat test.xml
</I>&gt;&gt;<i> &lt;Element Map at 26c7fc8&gt;
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Mapnik-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">Mapnik-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-users">https://lists.berlios.de/mailman/listinfo/mapnik-users</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20101102/5f2e3c27/attachment.html">https://lists.berlios.de/pipermail/mapnik-users/attachments/20101102/5f2e3c27/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003714.html">[Mapnik-users] cascadenik - AttributeError: _ElementInterface	instance has no attribute 'write'
</A></li>
	<LI>Next message: <A HREF="003716.html">[Mapnik-users] cascadenik - AttributeError: _ElementInterface	instance has no attribute 'write'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3715">[ date ]</a>
              <a href="thread.html#3715">[ thread ]</a>
              <a href="subject.html#3715">[ subject ]</a>
              <a href="author.html#3715">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
