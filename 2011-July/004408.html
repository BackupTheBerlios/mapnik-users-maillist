<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] Error Importing PLANT.osm into database in Slim	mode. Out of Memory
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Error%20Importing%20PLANT.osm%20into%20database%20in%20Slim%0A%09mode.%20Out%20of%20Memory&In-Reply-To=%3C1310547087.81400.YahooMailNeo%40web125114.mail.ne1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004407.html">
   <LINK REL="Next"  HREF="004409.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] Error Importing PLANT.osm into database in Slim	mode. Out of Memory</H1>
    <B>Saphy Mo</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20Error%20Importing%20PLANT.osm%20into%20database%20in%20Slim%0A%09mode.%20Out%20of%20Memory&In-Reply-To=%3C1310547087.81400.YahooMailNeo%40web125114.mail.ne1.yahoo.com%3E"
       TITLE="[Mapnik-users] Error Importing PLANT.osm into database in Slim	mode. Out of Memory">saphyfar at yahoo.com
       </A><BR>
    <I>Wed Jul 13 10:51:27 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004407.html">[Mapnik-users] Calling anyone with an interest documentation
</A></li>
        <LI>Next message: <A HREF="004409.html">[Mapnik-users] Mapnik Server Installation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4408">[ date ]</a>
              <a href="thread.html#4408">[ thread ]</a>
              <a href="subject.html#4408">[ subject ]</a>
              <a href="author.html#4408">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear experts,

I tried importing whole 
Planet into Postgis Database using osm2pgsql.exe. After 7 days, I have 
got the Out of Memory error in slim mode.
RAM: 16 GB (Windows 7 &#160; 64)
Harddisk 1 TB.

The command was:
osm2pgsql.exe -d Planet --latlong --slim -c -C 1500 -H localhost -P 5432 -U osm -W&#160; -S default.style .\Planet-Latest.osm.bz2

I've got&#160; error after 'Going over pending ways' as you see in the report below.

Please help and give me advice for solution.

thank you in
 advance,

regards,
Saph









------------------------------------------------------------------------------------------------------------------------------------

Report of osm2pgsql.exe:
osm2pgsql.exe -d Planet --latlong --slim -c -C 1500 -H localhost -P 543
2 -U osm -W&#160; -S default.style .\Planet-Latest.osm.bz2
osm2pgsql SVN version 0.69-21289M

Password:
Using projection SRS 4326 (Latlong)
Setting up table: planet_osm_point
NOTICE:&#160; table &quot;planet_osm_point&quot; does not exist, skipping
NOTICE:&#160; table &quot;planet_osm_point_tmp&quot; does not exist, skipping
Setting up table: planet_osm_line
NOTICE:&#160; table &quot;planet_osm_line&quot; does not exist, skipping
NOTICE:&#160; table &quot;planet_osm_line_tmp&quot; does not exist, skipping
Setting up table:
 planet_osm_polygon
NOTICE:&#160; table &quot;planet_osm_polygon&quot; does not exist, skipping
NOTICE:&#160; table &quot;planet_osm_polygon_tmp&quot; does not exist, skipping
Setting up table: planet_osm_roads
NOTICE:&#160; table &quot;planet_osm_roads&quot; does not exist, skipping
NOTICE:&#160; table &quot;planet_osm_roads_tmp&quot; does not exist, skipping
Mid: pgsql, scale=10000000, cache=1500MB, maxblocks=192001*8192
Setting up table: planet_osm_nodes
*** WARNING: intarray contrib module not installed
*** The resulting database will not be usable for applying diffs.
NOTICE:&#160; table &quot;planet_osm_nodes&quot; does not exist, skipping
NOTICE:&#160; CREATE TABLE / PRIMARY KEY will create implicit index &quot;planet_osm_nodes_pkey&quot; for table &quot;planet_osm_n
odes&quot;
Setting up table: planet_osm_ways
NOTICE:&#160; table &quot;planet_osm_ways&quot; does not exist, skipping
NOTICE:&#160; CREATE TABLE / PRIMARY KEY will create implicit index &quot;planet_osm_ways_pkey&quot; for table
 &quot;planet_osm_wa
ys&quot;
Setting up table: planet_osm_rels
NOTICE:&#160; table &quot;planet_osm_rels&quot; does not exist, skipping
NOTICE:&#160; CREATE TABLE / PRIMARY KEY will create implicit index &quot;planet_osm_rels_pkey&quot; for table &quot;planet_osm_re
ls&quot;

!! You are running this on 32bit system, so at most
!! 3GB of RAM can be used. If you encounter unexpected
!! exceptions during import, you should try running in slim
!! mode using parameter -s.

Reading in file: .\OsmFiles\Planet-Latest.osm.bz2
Unknown node type 8
Processing: Node(1118130k) Way(97901k) Relation(819k)
Exception caught processing way id=1388172
Processing: Node(1118130k) Way(97901k) Relation(862k)
Exception caught processing way id=1440075
Processing: Node(1118130k) Way(97901k) Relation(898k)
Exception caught processing way id=1479960
Processing: Node(1118130k) Way(97901k) Relation(1019k)
Node stats: total(1118130701), max(1325889367)
Way
 stats: total(97901806), max(117747569)
Relation stats: total(1019004), max(1625305)

Going over pending ways
processing way (25977k)way_done failed: ERROR:&#160; out of memory
DETAIL:&#160; Failed on request of size 419430400.
(7)
Arguments were: 75141421,
Error occurred, cleaning up

C:\Cartography\MapnikShop\OsmToPgsql&gt;ECHO &quot;Finished at:&quot;&#160; 12.07.2011&#160;&#160; 22:48:40,73
&quot;Finished at:&quot;&#160; 12.07.2011&#160;&#160; 22:48:40,73
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20110713/b51e4751/attachment.html">https://lists.berlios.de/pipermail/mapnik-users/attachments/20110713/b51e4751/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004407.html">[Mapnik-users] Calling anyone with an interest documentation
</A></li>
	<LI>Next message: <A HREF="004409.html">[Mapnik-users] Mapnik Server Installation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4408">[ date ]</a>
              <a href="thread.html#4408">[ thread ]</a>
              <a href="subject.html#4408">[ subject ]</a>
              <a href="author.html#4408">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
