<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-users] TextSymbolizer on polygon
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-users/2010-July/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20TextSymbolizer%20on%20polygon&In-Reply-To=%3CBLU0-SMTP532FF2D9D738700BC23F58CEBF0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003385.html">
   <LINK REL="Next"  HREF="003403.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-users] TextSymbolizer on polygon</H1>
    <B>feverzsj</B> 
    <A HREF="mailto:mapnik-users%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-users%5D%20TextSymbolizer%20on%20polygon&In-Reply-To=%3CBLU0-SMTP532FF2D9D738700BC23F58CEBF0%40phx.gbl%3E"
       TITLE="[Mapnik-users] TextSymbolizer on polygon">feverzsj at hotmail.com
       </A><BR>
    <I>Mon Jul 19 16:13:55 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003385.html">[Mapnik-users] TextSymbolizer on polygon
</A></li>
        <LI>Next message: <A HREF="003403.html">[Mapnik-users] TextSymbolizer on polygon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3402">[ date ]</a>
              <a href="thread.html#3402">[ thread ]</a>
              <a href="subject.html#3402">[ subject ]</a>
              <a href="author.html#3402">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Artem Pavlenko wrote:
&gt;<i> Wow, interesting. Could you try using another font (unifont?) to see
</I>&gt;<i> if this fixes the problem.
</I>&gt;<i> Also, please, provide your setup details and full style .xml file
</I>&gt;<i> Regards
</I>&gt;<i> Artem
</I>&gt;<i>   
</I>
Well, after rechecking the xml, it might be a mistake by me.
There is already another TextSymbolizer rule in the style which appears 
before the style showing the larger font in the layer's style list.
But, according to the render order, why the later style is skipped? It 
seems that mapnik scans the whole xml and decides what to be rendered in 
a more smart way than the painter's algorithm.
The attachment contains the shp and xml files which can reproduce the 
case using unifont.

Furthermore, mapnik 0.71 on my win xp also can't handle non 
ascii(chinese) path from xml definition.
For example:
If you extract the attachment to some non ascii path and load the xml 
into mapnik,
the console will give 'RuntimeError: wrong file code : 1891049728 
(encountered during parsing of layer 'adm_area').'
Using non ascii path in xml will give you somthing like 'RuntimeError: 
unrecognizable glpyhs/adm_area does not exist (encountered during 
parsing of layer 'adm_area''

                        -- Regards, zsj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: TextSymbolizer on polygon.zip
Type: application/octet-stream
Size: 99634 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-users/attachments/20100719/b1a06780/attachment.obj">https://lists.berlios.de/pipermail/mapnik-users/attachments/20100719/b1a06780/attachment.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003385.html">[Mapnik-users] TextSymbolizer on polygon
</A></li>
	<LI>Next message: <A HREF="003403.html">[Mapnik-users] TextSymbolizer on polygon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3402">[ date ]</a>
              <a href="thread.html#3402">[ thread ]</a>
              <a href="subject.html#3402">[ subject ]</a>
              <a href="author.html#3402">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-users">More information about the Mapnik-users
mailing list</a><br>
</body></html>
